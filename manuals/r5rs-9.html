<!-- 95% W3C COMPLIANT, 95% CSS FREE, RAW HTML -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
<title>R5Rs</title>
 <style type="text/css">
  <!--
  pre { font-family: monospace }
  tt { font-family: monospace }
  code { font-family: monospace }
  p.flushright { text-align: right }
  p.flushleft { text-align: left }
  span.sc { font-variant: small-caps }
  span.sf { font-family: sans-serif }
  span.skribetitle { font-family: sans-serif; font-weight: bolder; font-size: x-large; }
  span.refscreen { }
  span.refprint { display: none; }
  -->
 </style>
</head>

<body class="chapter" bgcolor="#ffffff">
<table width="100%" class="skribetitle" cellspacing="0" cellpadding="0"><tbody>
<tr><td align="center" bgcolor="#8381de"><div class="skribetitle"><strong><big><big><big>6. R5Rs<br/>Scheme Revised(5) Report on the Algorithmic Language Scheme -- Standard procedures</big></big></big></strong></div><center>
</center>
</td></tr></tbody></table>
<table cellpadding="3" cellspacing="0" width="100%" class="skribe-margins"><tr>
<td align="left" valign="top" class="skribe-left-margin" width="20%" bgcolor="#dedeff"><div class="skribe-left-margin">
<br/><center id='center7821'
><table width="97%" border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" frame="box" rules="none"><tbody>
<tr bgcolor="#8381de"><th id="tc7811" align="center" colspan="1"><font color="#ffffff"><strong id='bold7809'
>main page</strong></font></th></tr>
<tr bgcolor="#ffffff"><td id="tc7818" align="center" colspan="1"><table width="100%" border="0" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc7814" align="left" valign="top" colspan="1"><strong id='bold7813'
>top:</strong></td><td id="tc7815" align="right" valign="top" colspan="1"><a href="r5rs.html#R5Rs-Scheme-Revised(5)-Report-on-the-Algorithmic-Language-Scheme" class="inbound">R5Rs<br/>Scheme Revised(5) Report on the Algorithmic Language Scheme</a></td></tr>
</tbody></table>
</td></tr>
</tbody></table>
</center>
<br/><br/><center id='center7831'
><table width="97%" border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" frame="box" rules="none"><tbody>
<tr bgcolor="#8381de"><th id="tc7825" align="center" colspan="1"><font color="#ffffff"><strong id='bold7823'
>Standard procedures</strong></font></th></tr>
<tr bgcolor="#ffffff"><td id="tc7828" align="center" colspan="1"><table cellspacing="1" cellpadding="1" width="100%" class="toc">
<tbody>
 <tr><td valign="top" align="left">6.1</td><td colspan="4" width="100%"><a href="r5rs-9.html#Equivalence-predicates">Equivalence predicates</a></td></tr>
 <tr><td valign="top" align="left">6.2</td><td colspan="4" width="100%"><a href="r5rs-9.html#Numbers">Numbers</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.2.1</td><td colspan="3" width="100%"><a href="r5rs-9.html#Numerical-types">Numerical types</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.2.2</td><td colspan="3" width="100%"><a href="r5rs-9.html#Exactness">Exactness</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.2.3</td><td colspan="3" width="100%"><a href="r5rs-9.html#Implementation-restrictions">Implementation restrictions</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.2.4</td><td colspan="3" width="100%"><a href="r5rs-9.html#Syntax-of-numerical-constants">Syntax of numerical constants</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.2.5</td><td colspan="3" width="100%"><a href="r5rs-9.html#Numerical-operations">Numerical operations</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.2.6</td><td colspan="3" width="100%"><a href="r5rs-9.html#Numerical-input-and-output">Numerical input and output</a></td></tr>
 <tr><td valign="top" align="left">6.3</td><td colspan="4" width="100%"><a href="r5rs-9.html#Other-data-types">Other data types</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.3.1</td><td colspan="3" width="100%"><a href="r5rs-9.html#Booleans">Booleans</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.3.2</td><td colspan="3" width="100%"><a href="r5rs-9.html#Pairs-and-lists">Pairs and lists</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.3.3</td><td colspan="3" width="100%"><a href="r5rs-9.html#Symbols">Symbols</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.3.4</td><td colspan="3" width="100%"><a href="r5rs-9.html#Characters">Characters</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.3.5</td><td colspan="3" width="100%"><a href="r5rs-9.html#Strings">Strings</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.3.6</td><td colspan="3" width="100%"><a href="r5rs-9.html#Vectors">Vectors</a></td></tr>
 <tr><td valign="top" align="left">6.4</td><td colspan="4" width="100%"><a href="r5rs-9.html#Control-features">Control features</a></td></tr>
 <tr><td valign="top" align="left">6.5</td><td colspan="4" width="100%"><a href="r5rs-9.html#Eval">Eval</a></td></tr>
 <tr><td valign="top" align="left">6.6</td><td colspan="4" width="100%"><a href="r5rs-9.html#Input-and-output">Input and output</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.6.1</td><td colspan="3" width="100%"><a href="r5rs-9.html#Ports">Ports</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.6.2</td><td colspan="3" width="100%"><a href="r5rs-9.html#Input">Input</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.6.3</td><td colspan="3" width="100%"><a href="r5rs-9.html#Output">Output</a></td></tr>
 <tr><td></td><td valign="top" align="left">6.6.4</td><td colspan="3" width="100%"><a href="r5rs-9.html#System-interface">System interface</a></td></tr>
</tbody>
</table>
</td></tr>
</tbody></table>
</center>
<br/><br/><center id='center7841'
><table width="97%" border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse;" frame="box" rules="none"><tbody>
<tr bgcolor="#8381de"><th id="tc7835" align="center" colspan="1"><font color="#ffffff"><strong id='bold7833'
>Chapters</strong></font></th></tr>
<tr bgcolor="#ffffff"><td id="tc7838" align="center" colspan="1"><table cellspacing="1" cellpadding="1" width="100%" class="toc">
<tbody>
 <tr><td valign="top" align="left"></td><td colspan="4" width="100%"><a href="r5rs-1.html#Summary">Summary</a></td></tr>
 <tr><td valign="top" align="left"></td><td colspan="4" width="100%"><a href="r5rs-2.html#Introduction">Introduction</a></td></tr>
 <tr><td valign="top" align="left"></td><td colspan="4" width="100%"><a href="r5rs-3.html#Table-of-contents">Table of contents</a></td></tr>
 <tr><td valign="top" align="left">1</td><td colspan="4" width="100%"><a href="r5rs-4.html#Overview-of-Scheme">Overview of Scheme</a></td></tr>
 <tr><td valign="top" align="left">2</td><td colspan="4" width="100%"><a href="r5rs-5.html#Lexical-conventions">Lexical conventions</a></td></tr>
 <tr><td valign="top" align="left">3</td><td colspan="4" width="100%"><a href="r5rs-6.html#Basic-concepts">Basic concepts</a></td></tr>
 <tr><td valign="top" align="left">4</td><td colspan="4" width="100%"><a href="r5rs-7.html#Expressions">Expressions</a></td></tr>
 <tr><td valign="top" align="left">5</td><td colspan="4" width="100%"><a href="r5rs-8.html#Program-structure">Program structure</a></td></tr>
 <tr><td valign="top" align="left">6</td><td colspan="4" width="100%"><a href="r5rs-9.html#Standard-procedures">Standard procedures</a></td></tr>
 <tr><td valign="top" align="left">7</td><td colspan="4" width="100%"><a href="r5rs-10.html#Formal-syntax-and-semantics">Formal syntax and semantics</a></td></tr>
 <tr><td valign="top" align="left">8</td><td colspan="4" width="100%"><a href="r5rs-11.html#Concepts">Concepts</a></td></tr>
 <tr><td valign="top" align="left">9</td><td colspan="4" width="100%"><a href="r5rs-12.html#Variables-and-Procedures">Variables and Procedures</a></td></tr>
 <tr><td valign="top" align="left"></td><td colspan="4" width="100%"><a href="r5rs-13.html#Notes">Notes</a></td></tr>
 <tr><td valign="top" align="left"></td><td colspan="4" width="100%"><a href="r5rs-14.html#Additional-material">Additional material</a></td></tr>
 <tr><td valign="top" align="left"></td><td colspan="4" width="100%"><a href="r5rs-15.html#Example">Example</a></td></tr>
 <tr><td valign="top" align="left"></td><td colspan="4" width="100%"><a href="r5rs-16.html#Bibliography">Bibliography</a></td></tr>
</tbody>
</table>
</td></tr>
</tbody></table>
</center>
</div></td>
<td align="left" valign="top" class="skribe-body"><div class="skribe-body">
<a name="Standard-procedures" class="mark"></a>

<a name="g2586" class="mark"></a>
<a name="g2589" class="mark"></a>
<a name="g2592" class="mark"></a>
This chapter describes Scheme's built-in procedures.  The initial (or
``top level'') Scheme environment starts out with a number of variables
bound to locations containing useful values, most of which are primitive
procedures that manipulate data.  For example, the variable <samp id='samp2594'
>abs</samp> is
bound to (a location initially containing) a procedure of one argument
that computes the absolute value of a number, and the variable <samp id='samp2595'
>+</samp>
is bound to a procedure that computes sums.  Built-in procedures that
can easily be written in terms of other built-in procedures are identified as
``library procedures''.<br/><br/>A program may use a top-level definition to bind any variable.  It may
subsequently alter any such binding by an assignment (see <a href="r5rs-7.html#Assignments" class="inbound">Assignments</a>).
These operations do not modify the behavior of Scheme's built-in
procedures.  Altering any top-level binding that has not been introduced by a
definition has an unspecified effect on the behavior of the built-in procedures.<br/><br/><!-- Equivalence predicates -->
<a name="Equivalence-predicates"></a>
<div class="section-atitle"><table width="100%"><tr><td bgcolor="#dedeff"><h3><font color="black">6.1 Equivalence predicates</font>
</h3></td></tr></table>
</div><div class="section">
<a name="Equivalence-predicates" class="mark"></a>
A &quot;predicate&quot; is a procedure that always returns a boolean
<a name="g2599" class="mark"></a>value (<tt id='tt2601'
>#t</tt> or <tt id='tt2602'
>#f</tt>).  An &quot;equivalence predicate&quot; is
<a name="g2604" class="mark"></a>the computational analogue of a mathematical equivalence relation (it is
symmetric, reflexive, and transitive).  Of the equivalence predicates
described in this section, <samp id='samp2606'
>eq?</samp> is the finest or most
discriminating, and <samp id='samp2607'
>equal?</samp> is the coarsest.  <samp id='samp2608'
>Eqv?</samp> is
slightly less discriminating than <samp id='samp2609'
>eq?</samp>.  

<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g2611" class="mark"></a><a name="eqv?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc2615" align="left" colspan="1"><strong id='bold2613'
>eqv?</strong><em id='it2614'
>  obj1 obj2</em></td><td id="tc2616" align="right" colspan="1">procedure</td></tr>
</tbody></table>

The <samp id='samp2619'
>eqv?</samp> procedure defines a useful equivalence relation on objects.
Briefly, it returns <tt id='tt2620'
>#t</tt> if <code id='code2622'
><em id='it2621'
>obj1</em></code> and <code id='code2624'
><em id='it2623'
>obj2</em></code> should
normally be regarded as the same object.  This relation is left slightly
open to interpretation, but the following partial specification of
<samp id='samp2625'
>eqv?</samp> holds for all implementations of Scheme.<br/><br/>The <samp id='samp2627'
>eqv?</samp> procedure returns <tt id='tt2628'
>#t</tt> if:<br/><br/><ul class="itemize" id='itemize2687'
><li><code id='code2631'
><em id='it2630'
>obj1</em></code> and <code id='code2633'
><em id='it2632'
>obj2</em></code> are both <tt id='tt2634'
>#t</tt> or both <tt id='tt2635'
>#f</tt>.<br/><br/></li>
<li><code id='code2639'
><em id='it2638'
>obj1</em></code> and <code id='code2641'
><em id='it2640'
>obj2</em></code> are both symbols and<br/><br/><center id='center2645'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog2643'
>(string=? (symbol-&gt;string obj1)
          (symbol-&gt;string obj2))
                                  =&gt;  #t
</pre>
</td></tr>
</tbody></table></center>

<font size="-1"><em id='emph2646'
>Note:</em> 
This assumes that neither <code id='code2648'
><em id='it2647'
>obj1</em></code> nor <code id='code2650'
><em id='it2649'
>obj2</em></code> is an ``uninterned
symbol'' as alluded to in section <a href="r5rs-9.html#Symbols" class="inbound">Symbols</a>.  This report does
not presume to specify the behavior of <samp id='samp2651'
>eqv?</samp> on implementation-dependent
extensions.
</font><br/><br/></li>
<li><code id='code2656'
><em id='it2655'
>obj1</em></code> and <code id='code2658'
><em id='it2657'
>obj2</em></code> are both numbers, are numerically
equal (see <samp id='samp2659'
>=</samp>, section <a href="r5rs-9.html#Numbers" class="inbound">Numbers</a>), and are either both
exact or both inexact.<br/><br/></li>
<li><code id='code2663'
><em id='it2662'
>obj1</em></code> and <code id='code2665'
><em id='it2664'
>obj2</em></code> are both characters and are the same
character according to the <samp id='samp2666'
>char=?</samp> procedure
(section <a href="r5rs-9.html#Characters" class="inbound">Characters</a>).<br/><br/></li>
<li>both <code id='code2670'
><em id='it2669'
>obj1</em></code> and <code id='code2672'
><em id='it2671'
>obj2</em></code> are the empty list.<br/><br/></li>
<li><code id='code2676'
><em id='it2675'
>obj1</em></code> and <code id='code2678'
><em id='it2677'
>obj2</em></code> are pairs, vectors, or strings that denote the
same locations in the store (section <a href="r5rs-6.html#Storage-model" class="inbound">Storage model</a>).<br/><br/></li>
<li><code id='code2682'
><em id='it2681'
>obj1</em></code> and <code id='code2684'
><em id='it2683'
>obj2</em></code> are procedures whose location tags are
equal (section <a href="r5rs-7.html#Procedures" class="inbound">Procedures</a>).<br/><br/></li>
</ul>
<a name="g2689" class="mark"></a><a name="g2692" class="mark"></a>
The <samp id='samp2694'
>eqv?</samp> procedure returns <tt id='tt2695'
>#f</tt> if:<br/><br/><ul class="itemize" id='itemize2764'
><li><code id='code2698'
><em id='it2697'
>obj1</em></code> and <code id='code2700'
><em id='it2699'
>obj2</em></code> are of different types
(section <a href="r5rs-6.html#Disjointness-of-types" class="inbound">Disjointness of types</a>).<br/><br/></li>
<li>one of <code id='code2704'
><em id='it2703'
>obj1</em></code> and <code id='code2706'
><em id='it2705'
>obj2</em></code> is <tt id='tt2707'
>#t</tt> but the other is
<tt id='tt2708'
>#f</tt>.<br/><br/></li>
<li><code id='code2712'
><em id='it2711'
>obj1</em></code> and <code id='code2714'
><em id='it2713'
>obj2</em></code> are symbols but<br/><br/><center id='center2722'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog2720'
>(string=? (symbol-&gt;string <code id='code2717'
><em id='it2716'
>obj1</em></code>)
          (symbol-&gt;string <code id='code2719'
><em id='it2718'
>obj2</em></code>))
                                  =&gt;  #f
</pre>
</td></tr>
</tbody></table></center>

</li>
<li>one of <code id='code2725'
><em id='it2724'
>obj1</em></code> and <code id='code2727'
><em id='it2726'
>obj2</em></code> is an exact number but the other
is an inexact number.<br/><br/></li>
<li><code id='code2731'
><em id='it2730'
>obj1</em></code> and <code id='code2733'
><em id='it2732'
>obj2</em></code> are numbers for which the <samp id='samp2734'
>=</samp>
procedure returns <tt id='tt2735'
>#f</tt>.<br/><br/></li>
<li><code id='code2739'
><em id='it2738'
>obj1</em></code> and <code id='code2741'
><em id='it2740'
>obj2</em></code> are characters for which the <samp id='samp2742'
>char=?</samp>
procedure returns <tt id='tt2743'
>#f</tt>.<br/><br/></li>
<li>one of <code id='code2747'
><em id='it2746'
>obj1</em></code> and <code id='code2749'
><em id='it2748'
>obj2</em></code> is the empty list but the other
is not.<br/><br/></li>
<li><code id='code2753'
><em id='it2752'
>obj1</em></code> and <code id='code2755'
><em id='it2754'
>obj2</em></code> are pairs, vectors, or strings that denote
distinct locations.<br/><br/></li>
<li><code id='code2759'
><em id='it2758'
>obj1</em></code> and <code id='code2761'
><em id='it2760'
>obj2</em></code> are procedures that would behave differently
(return different value(s) or have different side effects) for some arguments.<br/><br/></li>
</ul>
<center id='center2771'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog2769'
>(eqv? 'a 'a)                           =&gt;  #t
(eqv? 'a 'b)                           =&gt;  #f
(eqv? 2 2)                             =&gt;  #t
(eqv? '() '())                         =&gt;  #t
(eqv? 100000000 100000000)             =&gt;  #t
(eqv? (cons 1 2) (cons 1 2))           =&gt;  #f
(eqv? (<strong id='bold7842'
>lambda</strong> () 1)
      (<strong id='bold7843'
>lambda</strong> () 2))                   =&gt;  #f
(eqv? #f 'nil)                         =&gt;  #f
(<strong id='bold7844'
>let</strong> ((p (<strong id='bold7845'
>lambda</strong> (x) x)))
  (eqv? p p))                          =&gt;  #t
</pre>
</td></tr>
</tbody></table></center>

The following examples illustrate cases in which the above rules do
not fully specify the behavior of <samp id='samp2772'
>eqv?</samp>.  All that can be said
about such cases is that the value returned by <samp id='samp2773'
>eqv?</samp> must be a
boolean.<br/><br/><center id='center2787'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog2785'
>(eqv? <font color="red">&quot;&quot;</font> <font color="red">&quot;&quot;</font>)                           =&gt;  <em id='emph2775'
>unspecified</em>
(eqv? '#() '#())                       =&gt;  <em id='emph2776'
>unspecified</em>
(eqv? (<strong id='bold7848'
>lambda</strong> (x) x)
      (<strong id='bold7849'
>lambda</strong> (x) x))                  =&gt;  <em id='emph2777'
>unspecified</em>
(eqv? (<strong id='bold7850'
>lambda</strong> (x) x)
      (<strong id='bold7851'
>lambda</strong> (y) y))                  =&gt;  <em id='emph2778'
>unspecified</em>
</pre>
</td></tr>
</tbody></table></center>

The next set of examples shows the use of <samp id='samp2788'
>eqv?</samp> with procedures
that have local state.  <samp id='samp2789'
>Gen-counter</samp> must return a distinct
procedure every time, since each procedure has its own internal counter.
<samp id='samp2790'
>Gen-loser</samp>, however, returns equivalent procedures each time, since
the local state does not affect the value or side effects of the
procedures.<br/><br/><center id='center2820'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog2818'
>(<font color="#6959cf"><strong id='bold7852'
>define</strong></font> <font color="#6959cf"><strong id='bold7854'
>gen-counter</strong></font>
  (<strong id='bold7856'
>lambda</strong> ()
    (<strong id='bold7857'
>let</strong> ((n 0))
      (<strong id='bold7858'
>lambda</strong> () (<strong id='bold7859'
>set!</strong> n (+ n 1)) n))))
(<strong id='bold7860'
>let</strong> ((g (gen-counter)))
  (eqv? g g))                          =&gt;  #t
(eqv? (gen-counter) (gen-counter))
                                       =&gt;  #f
(<font color="#6959cf"><strong id='bold7861'
>define</strong></font> <font color="#6959cf"><strong id='bold7863'
>gen-loser</strong></font>
  (<strong id='bold7865'
>lambda</strong> ()
    (<strong id='bold7866'
>let</strong> ((n 0))
      (<strong id='bold7867'
>lambda</strong> () (<strong id='bold7868'
>set!</strong> n (+ n 1)) 27))))
(<strong id='bold7869'
>let</strong> ((g (gen-loser)))
  (eqv? g g))                          =&gt;  #t
(eqv? (gen-loser) (gen-loser))
                                       =&gt;  <em id='emph2792'
>unspecified</em><br/><br/>(<strong id='bold7870'
>letrec</strong> ((f (<strong id='bold7871'
>lambda</strong> () (<strong id='bold7872'
>if</strong> (eqv? f g) 'both 'f)))
         (g (<strong id='bold7873'
>lambda</strong> () (<strong id='bold7874'
>if</strong> (eqv? f g) 'both 'g))))
  (eqv? f g))
                                       =&gt;  <em id='emph2794'
>unspecified</em><br/><br/>(<strong id='bold7875'
>letrec</strong> ((f (<strong id='bold7876'
>lambda</strong> () (<strong id='bold7877'
>if</strong> (eqv? f g) 'f 'both)))
         (g (<strong id='bold7878'
>lambda</strong> () (<strong id='bold7879'
>if</strong> (eqv? f g) 'g 'both))))
  (eqv? f g))
                                       =&gt;  #f
</pre>
</td></tr>
</tbody></table></center>



Since it is an error to modify constant objects (those returned by
literal expressions), implementations are permitted, though not
required, to share structure between constants where appropriate.  Thus
the value of <samp id='samp2821'
>eqv?</samp> on constants is sometimes
implementation-dependent.<br/><br/><center id='center2831'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog2829'
>(eqv? '(a) '(a))                       =&gt;  <em id='emph2823'
>unspecified</em>
(eqv? <font color="red">&quot;a&quot;</font> <font color="red">&quot;a&quot;</font>)                         =&gt;  <em id='emph2824'
>unspecified</em>
(eqv? '(b) (cdr '(a b)))               =&gt;  <em id='emph2825'
>unspecified</em>
(<strong id='bold7882'
>let</strong> ((x '(a)))
  (eqv? x x))                          =&gt;  #t
</pre>
</td></tr>
</tbody></table></center>

<br/><em id='emph2833'
>Rationale:</em> 
The above definition of <samp id='samp2834'
>eqv?</samp> allows implementations latitude in
their treatment of procedures and literals:  implementations are free
either to detect or to fail to detect that two procedures or two literals
are equivalent to each other, and can decide whether or not to
merge representations of equivalent objects by using the same pointer or
bit pattern to represent both.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g2838" class="mark"></a><a name="eq?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc2842" align="left" colspan="1"><strong id='bold2840'
>eq?</strong><em id='it2841'
>  obj1 obj2</em></td><td id="tc2843" align="right" colspan="1">procedure</td></tr>
</tbody></table>

<samp id='samp2846'
>Eq?</samp> is similar to <samp id='samp2847'
>eqv?</samp> except that in some cases it is
capable of discerning distinctions finer than those detectable by
<samp id='samp2848'
>eqv?</samp>.<br/><br/><samp id='samp2850'
>Eq?</samp> and <samp id='samp2851'
>eqv?</samp> are guaranteed to have the same
behavior on symbols, booleans, the empty list, pairs, procedures,
and non-empty
strings and vectors.  <samp id='samp2852'
>Eq?</samp>'s behavior on numbers and characters is
implementation-dependent, but it will always return either true or
false, and will return true only when <samp id='samp2853'
>eqv?</samp> would also return
true.  <samp id='samp2854'
>Eq?</samp> may also behave differently from <samp id='samp2855'
>eqv?</samp> on empty
vectors and empty strings.<br/><br/><center id='center2874'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog2872'
>(eq? 'a 'a)                            =&gt;  #t
(eq? '(a) '(a))                        =&gt;  <em id='emph2857'
>unspecified</em>
(eq? (list 'a) (list 'a))              =&gt;  #f
(eq? <font color="red">&quot;a&quot;</font> <font color="red">&quot;a&quot;</font>)                          =&gt;  <em id='emph2858'
>unspecified</em>
(eq? <font color="red">&quot;&quot;</font> <font color="red">&quot;&quot;</font>)                            =&gt;  <em id='emph2859'
>unspecified</em>
(eq? '() '())                          =&gt;  #t
(eq? 2 2)                              =&gt;  <em id='emph2860'
>unspecified</em>
(eq? #\A #\A)                          =&gt;  <em id='emph2861'
>unspecified</em>
(eq? car car)                          =&gt;  #t
(<strong id='bold7887'
>let</strong> ((n (+ 2 3)))
  (eq? n n))                           =&gt;  <em id='emph2862'
>unspecified</em>
(<strong id='bold7888'
>let</strong> ((x '(a)))
  (eq? x x))                           =&gt;  #t
(<strong id='bold7889'
>let</strong> ((x '#()))
  (eq? x x))                           =&gt;  #t
(<strong id='bold7890'
>let</strong> ((p (<strong id='bold7891'
>lambda</strong> (x) x)))
  (eq? p p))                           =&gt;  #t
</pre>
</td></tr>
</tbody></table></center>


<br/><em id='emph2876'
>Rationale:</em> It will usually be possible to implement <samp id='samp2877'
>eq?</samp> much
more efficiently than <samp id='samp2878'
>eqv?</samp>, for example, as a simple pointer
comparison instead of as some more complicated operation.  One reason is
that it may not be possible to compute <samp id='samp2879'
>eqv?</samp> of two numbers in
constant time, whereas <samp id='samp2880'
>eq?</samp> implemented as pointer comparison will
always finish in constant time.  <samp id='samp2881'
>Eq?</samp> may be used like <samp id='samp2882'
>eqv?</samp>
in applications using procedures to implement objects with state since
it obeys the same constraints as <samp id='samp2883'
>eqv?</samp>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g2887" class="mark"></a><a name="equal?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc2891" align="left" colspan="1"><strong id='bold2889'
>equal?</strong><em id='it2890'
>  obj1 obj2</em></td><td id="tc2892" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

<samp id='samp2895'
>Equal?</samp> recursively compares the contents of pairs, vectors, and
strings, applying <samp id='samp2896'
>eqv?</samp> on other objects such as numbers and symbols.
A rule of thumb is that objects are generally <samp id='samp2897'
>equal?</samp> if they print
the same.  <samp id='samp2898'
>Equal?</samp> may fail to terminate if its arguments are
circular data structures.<br/><br/><center id='center2907'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog2905'
>(equal? 'a 'a)                         =&gt;  #t
(equal? '(a) '(a))                     =&gt;  #t
(equal? '(a (b) c)
        '(a (b) c))                    =&gt;  #t
(equal? <font color="red">&quot;abc&quot;</font> <font color="red">&quot;abc&quot;</font>)                   =&gt;  #t
(equal? 2 2)                           =&gt;  #t
(equal? (make-vector 5 'a)
        (make-vector 5 'a))            =&gt;  #t
(equal? (<strong id='bold7894'
>lambda</strong> (x) x)
        (<strong id='bold7895'
>lambda</strong> (y) y))                =&gt;  <em id='emph2900'
>unspecified</em>
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
</div><br>
<!-- Numbers -->
<a name="Numbers"></a>
<div class="section-atitle"><table width="100%"><tr><td bgcolor="#dedeff"><h3><font color="black">6.2 Numbers</font>
</h3></td></tr></table>
</div><div class="section">
<a name="Numbers" class="mark"></a>

<a name="g2911" class="mark"></a>


Numerical computation has traditionally been neglected by the Lisp
community.  Until Common Lisp there was no carefully thought out
strategy for organizing numerical computation, and with the exception of
the MacLisp system [Pitman83] little effort was made to
execute numerical code efficiently.  This report recognizes the excellent work
of the Common Lisp committee and accepts many of their recommendations.
In some ways this report simplifies and generalizes their proposals in a manner
consistent with the purposes of Scheme.<br/><br/>It is important to distinguish between the mathematical numbers, the
Scheme numbers that attempt to model them, the machine representations
used to implement the Scheme numbers, and notations used to write numbers.
This report uses the types <em id='it2914'
>number</em>, <em id='it2915'
>complex</em>, <em id='it2916'
>real</em>,
<em id='it2917'
>rational</em>, and <em id='it2918'
>integer</em> to refer to both mathematical numbers
and Scheme numbers.  Machine representations such as fixed point and
floating point are referred to by names such as <em id='it2919'
>fixnum</em> and
<em id='it2920'
>flonum</em>.<br/><br/>
<!-- Numerical types -->
<a name="Numerical-types"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.2.1 Numerical types</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Numerical-types" class="mark"></a>
<a name="g2923" class="mark"></a>


Mathematically, numbers may be arranged into a tower of subtypes
in which each level is a subset of the level above it:<br/><br/><center id='center2928'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ccccff"><pre class="prog" id='prog2926'
>         number 
          complex 
          real 
          rational 
          integer 
</pre>
</td></tr>
</tbody></table></center>

For example, 3 is an integer.  Therefore 3 is also a rational,
a real, and a complex.  The same is true of the Scheme numbers
that model 3.  For Scheme numbers, these types are defined by the
predicates <code id='code2929'
>number?</code>, <code id='code2930'
>complex?</code>, <code id='code2931'
>real?</code>, <code id='code2932'
>rational?</code>,
<a name="g2934" class="mark"></a><a name="g2937" class="mark"></a><a name="g2940" class="mark"></a><a name="g2943" class="mark"></a>and <code id='code2945'
>integer?</code>.
<a name="g2947" class="mark"></a>
There is no simple relationship between a number's type and its
representation inside a computer.  Although most implementations of
Scheme will offer at least two different representations of 3, these
different representations denote the same integer.<br/><br/>
Scheme's numerical operations treat numbers as abstract data, as
independent of their representation as possible.  Although an implementation
of Scheme may use fixnum, flonum, and perhaps other representations for
numbers, this should not be apparent to a casual programmer writing
simple programs.<br/><br/>It is necessary, however, to distinguish between numbers that are
represented exactly and those that may not be.  For example, indexes
into data structures must be known exactly, as must some polynomial
coefficients in a symbolic algebra system.  On the other hand, the
results of measurements are inherently inexact, and irrational numbers
may be approximated by rational and therefore inexact approximations.
In order to catch uses of inexact numbers where exact numbers are
required, Scheme explicitly distinguishes exact from inexact numbers.
This distinction is orthogonal to the dimension of type.<br/><br/></div>
<!-- Exactness -->
<a name="Exactness"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.2.2 Exactness</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Exactness" class="mark"></a>
 
<a name="g2953" class="mark"></a>Scheme numbers are either <em id='it2955'
>exact</em> or <em id='it2956'
>inexact</em>.  A number is
exact if it was written as an exact constant or was derived from
exact numbers using only exact operations.  A number is
inexact if it was written as an inexact constant,
if it was
derived using inexact ingredients, or if it was derived using
inexact operations. Thus inexactness is a contagious
property of a number.

If two implementations produce exact results for a
computation that did not involve inexact intermediate results,
the two ultimate results will be mathematically equivalent.  This is
generally not true of computations involving inexact numbers
since approximate methods such as floating point arithmetic may be used,
but it is the duty of each implementation to make the result as close as
practical to the mathematically ideal result.<br/><br/>Rational operations such as <samp id='samp2958'
>+</samp> should always produce
exact results when given exact arguments.
If the operation is unable to produce an exact result,
then it may either report the violation of an implementation restriction
or it may silently coerce its
result to an inexact value.
See section <a href="r5rs-9.html#Implementation-restrictions" class="inbound">Implementation restrictions</a>.<br/><br/>With the exception of <code id='code2960'
>inexact-&gt;exact</code>, the operations described in
<a name="g2962" class="mark"></a>this section must generally return inexact results when given any inexact
arguments.  An operation may, however, return an exact result if it can
prove that the value of the result is unaffected by the inexactness of its
arguments.  For example, multiplication of any number by an exact zero
may produce an exact zero result, even if the other argument is
inexact.<br/><br/></div>
<!-- Implementation restrictions -->
<a name="Implementation-restrictions"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.2.3 Implementation restrictions</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Implementation-restrictions" class="mark"></a>
<a name="g2966" class="mark"></a>
Implementations of Scheme are not required to implement the whole
tower of subtypes given in section <a href="r5rs-9.html#Numerical-types" class="inbound">Numerical types</a>,
but they must implement a coherent subset consistent with both the
purposes of the implementation and the spirit of the Scheme language.
For example, an implementation in which all numbers are real
may still be quite useful.<br/><br/>Implementations may also support only a limited range of numbers of
any type, subject to the requirements of this section.  The supported
range for exact numbers of any type may be different from the
supported range for inexact numbers of that type.  For example,
an implementation that uses flonums to represent all its
inexact real numbers may
support a practically unbounded range of exact integers
and rationals
while limiting the range of inexact reals (and therefore
the range of inexact integers and rationals)
to the dynamic range of the flonum format.
Furthermore
the gaps between the representable inexact integers and
rationals are
likely to be very large in such an implementation as the limits of this
range are approached.<br/><br/>An implementation of Scheme must support exact integers
throughout the range of numbers that may be used for indexes of
lists, vectors, and strings or that may result from computing the length of a
list, vector, or string.  The <code id='code2970'
>length</code>, <code id='code2971'
>vector-length</code>,
<a name="g2973" class="mark"></a><a name="g2976" class="mark"></a>and <code id='code2978'
>string-length</code> procedures must return an exact
<a name="g2980" class="mark"></a>integer, and it is an error to use anything but an exact integer as an
index.  Furthermore any integer constant within the index range, if
expressed by an exact integer syntax, will indeed be read as an exact
integer, regardless of any implementation restrictions that may apply
outside this range.  Finally, the procedures listed below will always
return an exact integer result provided all their arguments are exact integers
and the mathematically expected result is representable as an exact integer
within the implementation:<br/><br/><center id='center2985'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ccccff"><pre class="prog" id='prog2983'
>+            -             *
quotient     remainder     modulo
max          min           abs
numerator    denominator   gcd
lcm          floor         ceiling
truncate     round         rationalize
expt
</pre>
</td></tr>
</tbody></table></center>

Implementations are encouraged, but not required, to support
exact integers and exact rationals of
practically unlimited size and precision, and to implement the
above procedures and the <samp id='samp2986'
>/</samp> procedure in
such a way that they always return exact results when given exact
arguments.  If one of these procedures is unable to deliver an exact
result when given exact arguments, then it may either report a
violation of an
implementation restriction or it may silently coerce its result to an
inexact number.  Such a coercion may cause an error later.<br/><br/>

An implementation may use floating point and other approximate 
representation strategies for inexact numbers.


This report recommends, but does not require, that the IEEE 32-bit
and 64-bit floating point standards be followed by implementations that use
flonum representations, and that implementations using
other representations should match or exceed the precision achievable
using these floating point standards [IEEE].<br/><br/>In particular, implementations that use flonum representations
must follow these rules: A flonum result
must be represented with at least as much precision as is used to express any of
the inexact arguments to that operation.  It is desirable (but not required) for
potentially inexact operations such as <samp id='samp2989'
>sqrt</samp>, when applied to exact
arguments, to produce exact answers whenever possible (for example the
square root of an exact 4 ought to be an exact 2).
If, however, an
exact number is operated upon so as to produce an inexact result
(as by <samp id='samp2990'
>sqrt</samp>), and if the result is represented as a flonum, then
the most precise flonum format available must be used; but if the result
is represented in some other way then the representation must have at least as
much precision as the most precise flonum format available.<br/><br/>Although Scheme allows a variety of written
notations for
numbers, any particular implementation may support only some of them.
For example, an implementation in which all numbers are real
need not support the rectangular and polar notations for complex
numbers.  If an implementation encounters an exact numerical constant that
it cannot represent as an exact number, then it may either report a
violation of an implementation restriction or it may silently represent the
constant by an inexact number.<br/><br/></div>
<!-- Syntax of numerical constants -->
<a name="Syntax-of-numerical-constants"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.2.4 Syntax of numerical constants</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Syntax-of-numerical-constants" class="mark"></a>



The syntax of the written representations for numbers is described formally in
section <a href="r5rs-10.html#Lexical-structure" class="inbound">Lexical structure</a>.  Note that case is not significant in numerical
constants.<br/><br/>
A number may be written in binary, octal, decimal, or
hexadecimal by the use of a radix prefix.  The radix prefixes are <samp id='samp2994'
>#b</samp> (binary), <samp id='samp2995'
>#o</samp> (octal), <samp id='samp2996'
>#d</samp> (decimal), and <samp id='samp2997'
>#x</samp> (hexadecimal).  With
<a name="g2998" class="mark"></a><a name="g3000" class="mark"></a><a name="g3002" class="mark"></a><a name="g3004" class="mark"></a><a name="g3006" class="mark"></a><a name="g3008" class="mark"></a><a name="g3010" class="mark"></a>no radix prefix, a number is assumed to be expressed in decimal.<br/><br/>A
numerical constant may be specified to be either exact or
inexact by a prefix.  The prefixes are <samp id='samp3013'
>#e</samp>
<a name="g3014" class="mark"></a>for exact, and <samp id='samp3016'
>#i</samp> for inexact.  An exactness
<a name="g3017" class="mark"></a>prefix may appear before or after any radix prefix that is used.  If
the written representation of a number has no exactness prefix, the
constant may be either inexact or exact.  It is
inexact if it contains a decimal point, an
exponent, or a ``#'' character in the place of a digit,
otherwise it is exact.


In systems with inexact numbers
of varying precisions it may be useful to specify
the precision of a constant.  For this purpose, numerical constants
may be written with an exponent marker that indicates the
desired precision of the inexact
representation.  The letters <samp id='samp3019'
>s</samp>, <samp id='samp3020'
>f</samp>,
<samp id='samp3021'
>d</samp>, and <samp id='samp3022'
>l</samp> specify the use of <code id='code3024'
><em id='it3023'
>short</em></code>, <code id='code3026'
><em id='it3025'
>single</em></code>,
<code id='code3028'
><em id='it3027'
>double</em></code>, and <code id='code3030'
><em id='it3029'
>long</em></code> precision, respectively.  (When fewer
than four internal
inexact
representations exist, the four size
specifications are mapped onto those available.  For example, an
implementation with two internal representations may map short and
single together and long and double together.)  In addition, the
exponent marker <samp id='samp3031'
>e</samp> specifies the default precision for the
implementation.  The default precision has at least as much precision
as <code id='code3033'
><em id='it3032'
>double</em></code>, but
implementations may wish to allow this default to be set by the user.<br/><br/><center id='center3037'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3035'
>3.14159265358979F0
       Round to single --- 3.141593
0.6L0
       Extend to long --- .600000000000000
</pre>
</td></tr>
</tbody></table></center>

</div>
<!-- Numerical operations -->
<a name="Numerical-operations"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.2.5 Numerical operations</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Numerical-operations" class="mark"></a>
The reader is referred to section <a href="r5rs-4.html#Entry-format" class="inbound">Entry format</a> for a summary
of the naming conventions used to specify restrictions on the types of
arguments to numerical routines.

The examples used in this section assume that any numerical constant written
using an exact notation is indeed represented as an exact
number.  Some examples also assume that certain numerical constants written
using an inexact notation can be represented without loss of
accuracy; the inexact constants were chosen so that this is
likely to be true in implementations that use flonums to represent
inexact numbers.<br/><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3040" class="mark"></a><a name="number?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3044" align="left" colspan="1"><strong id='bold3042'
>number?</strong><em id='it3043'
>  obj</em></td><td id="tc3045" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3049" class="mark"></a><a name="complex?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3053" align="left" colspan="1"><strong id='bold3051'
>complex?</strong><em id='it3052'
>  obj</em></td><td id="tc3054" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3058" class="mark"></a><a name="real?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3062" align="left" colspan="1"><strong id='bold3060'
>real?</strong><em id='it3061'
>  obj</em></td><td id="tc3063" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3067" class="mark"></a><a name="rational?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3071" align="left" colspan="1"><strong id='bold3069'
>rational?</strong><em id='it3070'
>  obj</em></td><td id="tc3072" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3076" class="mark"></a><a name="integer?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3080" align="left" colspan="1"><strong id='bold3078'
>integer?</strong><em id='it3079'
>  obj</em></td><td id="tc3081" align="right" colspan="1">procedure</td></tr>
</tbody></table>

These numerical type predicates can be applied to any kind of
argument, including non-numbers.  They return <tt id='tt3084'
>#t</tt> if the object is
of the named type, and otherwise they return <tt id='tt3085'
>#f</tt>.
In general, if a type predicate is true of a number then all higher
type predicates are also true of that number.  Consequently, if a type
predicate is false of a number, then all lower type predicates are
also false of that number.

If <code id='code3087'
><em id='it3086'
>z</em></code> is an inexact complex number, then <samp id='samp3090'
>(real? <code id='code3089'
><em id='it3088'
>z</em></code>)</samp> is true if
and only if <samp id='samp3093'
>(zero? (imag-part <code id='code3092'
><em id='it3091'
>z</em></code>))</samp> is true.  If <code id='code3095'
><em id='it3094'
>x</em></code> is an inexact
real number, then <samp id='samp3098'
>(integer? <code id='code3097'
><em id='it3096'
>x</em></code>)</samp> is true if and only if
<samp id='samp3103'
>(= <code id='code3100'
><em id='it3099'
>x</em></code> (round <code id='code3102'
><em id='it3101'
>x</em></code>))</samp>.<br/><br/><center id='center3107'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3105'
>(complex? 3+4i)                        =&gt;  #t
(complex? 3)                           =&gt;  #t
(real? 3)                              =&gt;  #t
(real? -2.5+0.0i)                      =&gt;  #t
(real? #e1e10)                         =&gt;  #t
(rational? 6/10)                       =&gt;  #t
(rational? 6/3)                        =&gt;  #t
(integer? 3+0i)                        =&gt;  #t
(integer? 3.0)                         =&gt;  #t
(integer? 8/4)                         =&gt;  #t
</pre>
</td></tr>
</tbody></table></center>

<font size="-1"><em id='emph3108'
>Note:</em>
The behavior of these type predicates on inexact numbers
is unreliable, since any inaccuracy may affect the result.
</font>
<font size="-1"><em id='emph3110'
>Note:</em>
In many implementations the <code id='code3111'
>rational?</code> procedure will be the same
<a name="g3113" class="mark"></a>as <code id='code3115'
>real?</code>, and the <code id='code3116'
>complex?</code> procedure will be the same as
<a name="g3118" class="mark"></a><a name="g3121" class="mark"></a><code id='code3123'
>number?</code>, but unusual implementations may be able to represent
<a name="g3125" class="mark"></a>some irrational numbers exactly or may extend the number system to
support some kind of non-complex numbers.
</font></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3131" class="mark"></a><a name="exact?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3137" align="left" colspan="1"><strong id='bold3133'
>exact?</strong><em id='it3136'
>  <code id='code3135'
><em id='it3134'
>z</em></code></em></td><td id="tc3138" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3142" class="mark"></a><a name="inexact?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3148" align="left" colspan="1"><strong id='bold3144'
>inexact?</strong><em id='it3147'
>  <code id='code3146'
><em id='it3145'
>z</em></code></em></td><td id="tc3149" align="right" colspan="1">procedure</td></tr>
</tbody></table>

These numerical predicates provide tests for the exactness of a
quantity.  For any Scheme number, precisely one of these predicates
is true.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3155" class="mark"></a><a name="=" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3159" align="left" colspan="1"><strong id='bold3157'
>=</strong><em id='it3158'
>  z1 z2 z3 ...,</em></td><td id="tc3160" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3164" class="mark"></a><a name="<" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3168" align="left" colspan="1"><strong id='bold3166'
>&lt;</strong><em id='it3167'
>  x1 x2 x3 ...,</em></td><td id="tc3169" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3173" class="mark"></a><a name=">" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3177" align="left" colspan="1"><strong id='bold3175'
>&gt;</strong><em id='it3176'
>  x1 x2 x3 ...,</em></td><td id="tc3178" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3182" class="mark"></a><a name="<=" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3186" align="left" colspan="1"><strong id='bold3184'
>&lt;=</strong><em id='it3185'
>  x1 x2 x3 ...,</em></td><td id="tc3187" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3191" class="mark"></a><a name=">=" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3195" align="left" colspan="1"><strong id='bold3193'
>&gt;=</strong><em id='it3194'
>  x1 x2 x3 ...,</em></td><td id="tc3196" align="right" colspan="1">procedure</td></tr>
</tbody></table>

These procedures return <tt id='tt3199'
>#t</tt> if their arguments are (respectively):
equal, monotonically increasing, monotonically decreasing,
monotonically nondecreasing, or monotonically nonincreasing.<br/><br/>These predicates are required to be transitive.<br/><br/><font size="-1"><em id='emph3202'
>Note:</em>
The traditional implementations of these predicates in Lisp-like
languages are not transitive.
</font>
<font size="-1"><em id='emph3204'
>Note:</em>
While it is not an error to compare inexact numbers using these
predicates, the results may be unreliable because a small inaccuracy
may affect the result; this is especially true of <code id='code3205'
>=</code> and <code id='code3206'
>zero?</code>.
<a name="g3208" class="mark"></a><a name="g3211" class="mark"></a>When in doubt, consult a numerical analyst.
</font>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3217" class="mark"></a><a name="zero?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3223" align="left" colspan="1"><strong id='bold3219'
>zero?</strong><em id='it3222'
>  <code id='code3221'
><em id='it3220'
>z</em></code></em></td><td id="tc3224" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g3228" class="mark"></a><a name="positive?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3234" align="left" colspan="1"><strong id='bold3230'
>positive?</strong><em id='it3233'
>  <code id='code3232'
><em id='it3231'
>x</em></code></em></td><td id="tc3235" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g3239" class="mark"></a><a name="negative?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3245" align="left" colspan="1"><strong id='bold3241'
>negative?</strong><em id='it3244'
>  <code id='code3243'
><em id='it3242'
>x</em></code></em></td><td id="tc3246" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g3250" class="mark"></a><a name="odd?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3256" align="left" colspan="1"><strong id='bold3252'
>odd?</strong><em id='it3255'
>  <code id='code3254'
><em id='it3253'
>n</em></code></em></td><td id="tc3257" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g3261" class="mark"></a><a name="even?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3267" align="left" colspan="1"><strong id='bold3263'
>even?</strong><em id='it3266'
>  <code id='code3265'
><em id='it3264'
>n</em></code></em></td><td id="tc3268" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

These numerical predicates test a number for a particular property,
returning <tt id='tt3271'
>#t</tt> or <tt id='tt3272'
>#f</tt>.  See note above.<br/><br/></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3277" class="mark"></a><a name="max" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3281" align="left" colspan="1"><strong id='bold3279'
>max</strong><em id='it3280'
>  x1 x2 ...,</em></td><td id="tc3282" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g3286" class="mark"></a><a name="min" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3290" align="left" colspan="1"><strong id='bold3288'
>min</strong><em id='it3289'
>  x1 x2 ...,</em></td><td id="tc3291" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

These procedures return the maximum or minimum of their arguments.<br/><br/><center id='center3297'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3295'
>(max 3 4)                              =&gt;  4    ; exact
(max 3.9 4)                            =&gt;  4.0  ; inexact
</pre>
</td></tr>
</tbody></table></center>

<font size="-1"><em id='emph3298'
>Note:</em>
If any argument is inexact, then the result will also be inexact (unless
the procedure can prove that the inaccuracy is not large enough to affect the
result, which is possible only in unusual implementations).  If <samp id='samp3299'
>min</samp> or
<samp id='samp3300'
>max</samp> is used to compare numbers of mixed exactness, and the numerical
value of the result cannot be represented as an inexact number without loss of
accuracy, then the procedure may report a violation of an implementation
restriction.
</font></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3305" class="mark"></a><a name="+" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3309" align="left" colspan="1"><strong id='bold3307'
>+</strong><em id='it3308'
>  z1 ...,</em></td><td id="tc3310" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3314" class="mark"></a><a name="*" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3318" align="left" colspan="1"><strong id='bold3316'
>*</strong><em id='it3317'
>  z1 ...,</em></td><td id="tc3319" align="right" colspan="1">procedure</td></tr>
</tbody></table>

These procedures return the sum or product of their arguments.

<center id='center3324'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3322'
>(+ 3 4)                                =&gt;  7
(+ 3)                                  =&gt;  3
(+)                                    =&gt;  0
(* 4)                                  =&gt;  4
(*)                                    =&gt;  1
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3328" class="mark"></a><a name="-" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3332" align="left" colspan="1"><strong id='bold3330'
>-</strong><em id='it3331'
>  z1 z2</em></td><td id="tc3333" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3340" align="left" colspan="1"><strong id='bold3336'
>-</strong><em id='it3339'
>  <code id='code3338'
><em id='it3337'
>z</em></code></em></td><td id="tc3341" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3346" align="left" colspan="1"><strong id='bold3344'
>-</strong><em id='it3345'
>  z1 z2 ...,</em></td><td id="tc3347" align="right" colspan="1">optional procedure</td></tr>
</tbody></table>
<a name="g3351" class="mark"></a><a name="/" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3355" align="left" colspan="1"><strong id='bold3353'
>/</strong><em id='it3354'
>  z1 z2</em></td><td id="tc3356" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3363" align="left" colspan="1"><strong id='bold3359'
>/</strong><em id='it3362'
>  <code id='code3361'
><em id='it3360'
>z</em></code></em></td><td id="tc3364" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3369" align="left" colspan="1"><strong id='bold3367'
>/</strong><em id='it3368'
>  z1 z2 ...,</em></td><td id="tc3370" align="right" colspan="1">optional procedure</td></tr>
</tbody></table>

With two or more arguments, these procedures return the difference or
quotient of their arguments, associating to the left.  With one argument,
however, they return the additive or multiplicative inverse of their argument.

<center id='center3375'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3373'
>(- 3 4)                                =&gt;  -1
(- 3 4 5)                              =&gt;  -6
(- 3)                                  =&gt;  -3
(/ 3 4 5)                              =&gt;  3/20
(/ 3)                                  =&gt;  1/3
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3379" class="mark"></a><a name="abs" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3383" align="left" colspan="1"><strong id='bold3381'
>abs</strong><em id='it3382'
>  x</em></td><td id="tc3384" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<samp id='samp3387'
>Abs</samp> returns the absolute value of its argument.  

<center id='center3390'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3388'
>(abs -7)                               =&gt;  7
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3394" class="mark"></a><a name="quotient" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3398" align="left" colspan="1"><strong id='bold3396'
>quotient</strong><em id='it3397'
>  n1 n2</em></td><td id="tc3399" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3403" class="mark"></a><a name="remainder" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3407" align="left" colspan="1"><strong id='bold3405'
>remainder</strong><em id='it3406'
>  n1 n2</em></td><td id="tc3408" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3412" class="mark"></a><a name="modulo" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3416" align="left" colspan="1"><strong id='bold3414'
>modulo</strong><em id='it3415'
>  n1 n2</em></td><td id="tc3417" align="right" colspan="1">procedure</td></tr>
</tbody></table>

These procedures implement number-theoretic (integer)
division.  <code id='code3421'
><em id='it3420'
>n2</em></code> should be non-zero.  All three procedures
return integers.  If <code id='code3423'
><em id='it3422'
>n1</em></code>/<code id='code3425'
><em id='it3424'
>n2</em></code> is an integer:<br/><br/><center id='center3445'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3443'
>    (quotient <code id='code3428'
><em id='it3427'
>n1</em></code> <code id='code3430'
><em id='it3429'
>n2</em></code>)                   =&gt; <code id='code3432'
><em id='it3431'
>n1</em></code>/<code id='code3434'
><em id='it3433'
>n2</em></code>
    (remainder <code id='code3436'
><em id='it3435'
>n1</em></code> <code id='code3438'
><em id='it3437'
>n2</em></code>)                  =&gt; 0
    (modulo <code id='code3440'
><em id='it3439'
>n1</em></code> <code id='code3442'
><em id='it3441'
>n2</em></code>)                     =&gt; 0
</pre>
</td></tr>
</tbody></table></center>

If <code id='code3447'
><em id='it3446'
>n1</em></code>/<code id='code3449'
><em id='it3448'
>n2</em></code> is not an integer:<br/><br/><center id='center3471'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3469'
>    (quotient <code id='code3452'
><em id='it3451'
>n1</em></code> <code id='code3454'
><em id='it3453'
>n2</em></code>)                   =&gt; <code id='code3456'
><em id='it3455'
>n_q</em></code>
    (remainder <code id='code3458'
><em id='it3457'
>n1</em></code> <code id='code3460'
><em id='it3459'
>n2</em></code>)                  =&gt; <code id='code3462'
><em id='it3461'
>n_r</em></code>
    (modulo <code id='code3464'
><em id='it3463'
>n1</em></code> <code id='code3466'
><em id='it3465'
>n2</em></code>)                     =&gt; <code id='code3468'
><em id='it3467'
>n_m</em></code>
</pre>
</td></tr>
</tbody></table></center>

where <code id='code3473'
><em id='it3472'
>n_q</em></code> is <code id='code3475'
><em id='it3474'
>n1</em></code>/<code id='code3477'
><em id='it3476'
>n2</em></code> rounded towards zero,
0 &lt; |<code id='code3479'
><em id='it3478'
>n_r</em></code>| &lt; |<code id='code3481'
><em id='it3480'
>n2</em></code>|, 0 &lt; |<code id='code3483'
><em id='it3482'
>n_m</em></code>| &lt; |<code id='code3485'
><em id='it3484'
>n2</em></code>|,
<code id='code3487'
><em id='it3486'
>n_r</em></code> and <code id='code3489'
><em id='it3488'
>n_m</em></code> differ from <code id='code3491'
><em id='it3490'
>n1</em></code> by a multiple of <code id='code3493'
><em id='it3492'
>n2</em></code>,
<code id='code3495'
><em id='it3494'
>n_r</em></code> has the same sign as <code id='code3497'
><em id='it3496'
>n1</em></code>, and
<code id='code3499'
><em id='it3498'
>n_m</em></code> has the same sign as <code id='code3501'
><em id='it3500'
>n2</em></code>.<br/><br/>From this we can conclude that for integers <code id='code3504'
><em id='it3503'
>n1</em></code> and <code id='code3506'
><em id='it3505'
>n2</em></code> with
<code id='code3508'
><em id='it3507'
>n2</em></code> not equal to 0,<br/><br/><center id='center3524'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3522'
>     (= <code id='code3511'
><em id='it3510'
>n1</em></code> (+ (* <code id='code3513'
><em id='it3512'
>n2</em></code> (quotient <code id='code3515'
><em id='it3514'
>n1</em></code> <code id='code3517'
><em id='it3516'
>n2</em></code>))
           (remainder <code id='code3519'
><em id='it3518'
>n1</em></code> <code id='code3521'
><em id='it3520'
>n2</em></code>)))
                                       =&gt;  #t
</pre>
</td></tr>
</tbody></table></center>

provided all numbers involved in that computation are exact.<br/><br/><center id='center3532'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3530'
>(modulo 13 4)                          =&gt;  1
(remainder 13 4)                       =&gt;  1<br/><br/>(modulo -13 4)                         =&gt;  3
(remainder -13 4)                      =&gt;  -1<br/><br/>(modulo 13 -4)                         =&gt;  -3
(remainder 13 -4)                      =&gt;  1<br/><br/>(modulo -13 -4)                        =&gt;  -1
(remainder -13 -4)                     =&gt;  -1<br/><br/>(remainder -13 -4.0)                   =&gt;  -1.0  ; inexact
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3536" class="mark"></a><a name="gcd" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3540" align="left" colspan="1"><strong id='bold3538'
>gcd</strong><em id='it3539'
>  n1 ...,</em></td><td id="tc3541" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g3545" class="mark"></a><a name="lcm" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3549" align="left" colspan="1"><strong id='bold3547'
>lcm</strong><em id='it3548'
>  n1 ...,</em></td><td id="tc3550" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

These procedures return the greatest common divisor or least common
multiple of their arguments.  The result is always non-negative.


<center id='center3555'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3553'
>(gcd 32 -36)                           =&gt;  4
(gcd)                                  =&gt;  0
(lcm 32 -36)                           =&gt;  288
(lcm 32.0 -36)                         =&gt;  288.0  ; inexact
(lcm)                                  =&gt;  1
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3559" class="mark"></a><a name="numerator" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3565" align="left" colspan="1"><strong id='bold3561'
>numerator</strong><em id='it3564'
>  <code id='code3563'
><em id='it3562'
>q</em></code></em></td><td id="tc3566" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3570" class="mark"></a><a name="denominator" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3576" align="left" colspan="1"><strong id='bold3572'
>denominator</strong><em id='it3575'
>  <code id='code3574'
><em id='it3573'
>q</em></code></em></td><td id="tc3577" align="right" colspan="1">procedure</td></tr>
</tbody></table>

These procedures return the numerator or denominator of their
argument; the result is computed as if the argument was represented as
a fraction in lowest terms.  The denominator is always positive.  The
denominator of 0 is defined to be 1.


<center id='center3582'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3580'
>(numerator (/ 6 4))                    =&gt;  3
(denominator (/ 6 4))                  =&gt;  2
(denominator
  (exact-&gt;inexact (/ 6 4)))            =&gt; 2.0
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3586" class="mark"></a><a name="floor" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3590" align="left" colspan="1"><strong id='bold3588'
>floor</strong><em id='it3589'
>  x</em></td><td id="tc3591" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3595" class="mark"></a><a name="ceiling" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3599" align="left" colspan="1"><strong id='bold3597'
>ceiling</strong><em id='it3598'
>  x</em></td><td id="tc3600" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3604" class="mark"></a><a name="truncate" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3608" align="left" colspan="1"><strong id='bold3606'
>truncate</strong><em id='it3607'
>  x</em></td><td id="tc3609" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3613" class="mark"></a><a name="round" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3617" align="left" colspan="1"><strong id='bold3615'
>round</strong><em id='it3616'
>  x</em></td><td id="tc3618" align="right" colspan="1">procedure</td></tr>
</tbody></table>

These procedures return integers.
<samp id='samp3621'
>Floor</samp> returns the largest integer not larger than <code id='code3623'
><em id='it3622'
>x</em></code>.
<samp id='samp3624'
>Ceiling</samp> returns the smallest integer not smaller than <code id='code3626'
><em id='it3625'
>x</em></code>.
<samp id='samp3627'
>Truncate</samp> returns the integer closest to <code id='code3629'
><em id='it3628'
>x</em></code> whose absolute
value is not larger than the absolute value of <code id='code3631'
><em id='it3630'
>x</em></code>.  <samp id='samp3632'
>Round</samp> returns the
closest integer to <code id='code3634'
><em id='it3633'
>x</em></code>, rounding to even when <code id='code3636'
><em id='it3635'
>x</em></code> is halfway between two
integers.<br/><br/><br/><em id='emph3639'
>Rationale:</em>
<samp id='samp3640'
>Round</samp> rounds to even for consistency with the default rounding
mode specified by the IEEE floating point standard.<br/><br/><font size="-1"><em id='emph3642'
>Note:</em>
If the argument to one of these procedures is inexact, then the result
will also be inexact.  If an exact value is needed, the
result should be passed to the <samp id='samp3643'
>inexact-&gt;exact</samp> procedure.
</font>
<center id='center3649'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3647'
>(floor -4.3)                           =&gt;  -5.0
(ceiling -4.3)                         =&gt;  -4.0
(truncate -4.3)                        =&gt;  -4.0
(round -4.3)                           =&gt;  -4.0<br/><br/>(floor 3.5)                            =&gt;  3.0
(ceiling 3.5)                          =&gt;  4.0
(truncate 3.5)                         =&gt;  3.0
(round 3.5)                            =&gt;  4.0  ; inexact<br/><br/>(round 7/2)                            =&gt;  4    ; exact
(round 7)                              =&gt;  7
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3653" class="mark"></a><a name="rationalize" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3657" align="left" colspan="1"><strong id='bold3655'
>rationalize</strong><em id='it3656'
>  x y</em></td><td id="tc3658" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

<samp id='samp3661'
>Rationalize</samp> returns the <em id='emph3662'
>simplest</em> rational number
differing from <code id='code3664'
><em id='it3663'
>x</em></code> by no more than <code id='code3666'
><em id='it3665'
>y</em></code>.  A rational number r_1 is
<em id='emph3667'
>simpler</em>  than another rational number
<a name="g3669" class="mark"></a>r_2 if r_1 = p_1/q_1 and r_2 = p_2/q_2 (in lowest terms) and |p_1|&lt;= |p_2| and |q_1| &lt;= |q_2|.  Thus 3/5 is simpler than 4/7.
Although not all rationals are comparable in this ordering (consider 2/7
and 3/5) any interval contains a rational number that is simpler than
every other rational number in that interval (the simpler 2/5 lies
between 2/7 and 3/5).  Note that 0 = 0/1 is the simplest rational of
all.<br/><br/><center id='center3674'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3672'
>(rationalize
  (inexact-&gt;exact .3) 1/10)            =&gt; 1/3    ; exact
(rationalize .3 1/10)                  =&gt; #i1/3  ; inexact
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3678" class="mark"></a><a name="exp" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3684" align="left" colspan="1"><strong id='bold3680'
>exp</strong><em id='it3683'
>  <code id='code3682'
><em id='it3681'
>z</em></code></em></td><td id="tc3685" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3689" class="mark"></a><a name="log" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3695" align="left" colspan="1"><strong id='bold3691'
>log</strong><em id='it3694'
>  <code id='code3693'
><em id='it3692'
>z</em></code></em></td><td id="tc3696" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3700" class="mark"></a><a name="sin" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3706" align="left" colspan="1"><strong id='bold3702'
>sin</strong><em id='it3705'
>  <code id='code3704'
><em id='it3703'
>z</em></code></em></td><td id="tc3707" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3711" class="mark"></a><a name="cos" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3717" align="left" colspan="1"><strong id='bold3713'
>cos</strong><em id='it3716'
>  <code id='code3715'
><em id='it3714'
>z</em></code></em></td><td id="tc3718" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3722" class="mark"></a><a name="tan" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3728" align="left" colspan="1"><strong id='bold3724'
>tan</strong><em id='it3727'
>  <code id='code3726'
><em id='it3725'
>z</em></code></em></td><td id="tc3729" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3733" class="mark"></a><a name="asin" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3739" align="left" colspan="1"><strong id='bold3735'
>asin</strong><em id='it3738'
>  <code id='code3737'
><em id='it3736'
>z</em></code></em></td><td id="tc3740" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3744" class="mark"></a><a name="acos" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3750" align="left" colspan="1"><strong id='bold3746'
>acos</strong><em id='it3749'
>  <code id='code3748'
><em id='it3747'
>z</em></code></em></td><td id="tc3751" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3755" class="mark"></a><a name="atan" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3761" align="left" colspan="1"><strong id='bold3757'
>atan</strong><em id='it3760'
>  <code id='code3759'
><em id='it3758'
>z</em></code></em></td><td id="tc3762" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3771" align="left" colspan="1"><strong id='bold3765'
>atan</strong><em id='it3770'
>  <code id='code3767'
><em id='it3766'
>y</em></code> <code id='code3769'
><em id='it3768'
>x</em></code></em></td><td id="tc3772" align="right" colspan="1">procedure</td></tr>
</tbody></table>

These procedures are part of every implementation that supports
general
real numbers; they compute the usual transcendental functions.  <samp id='samp3775'
>Log</samp>
computes the natural logarithm of <code id='code3777'
><em id='it3776'
>z</em></code> (not the base ten logarithm).
<samp id='samp3778'
>Asin</samp>, <samp id='samp3779'
>acos</samp>, and <samp id='samp3780'
>atan</samp> compute arcsine (sin^-1),
arccosine (cos^-1), and arctangent (tan^-1), respectively.
The two-argument variant of <samp id='samp3781'
>atan</samp> computes <tt id='tt3786'
>(angle
(make-rectangular <code id='code3783'
><em id='it3782'
>x</em></code> <code id='code3785'
><em id='it3784'
>y</em></code>))</tt> (see below), even in implementations
that don't support general complex numbers.<br/><br/>In general, the mathematical functions log, arcsine, arccosine, and
arctangent are multiply defined.
The value of log z is defined to be the one whose imaginary
part lies in the range from -pi (exclusive) to pi (inclusive).
log 0 is undefined.
With log defined this way, the values of sin^-1 z, cos^-1 z,
and tan^-1 z are according to the following formulae:<br/><br/><center id='center3789'
>sin^-1 z = -i log (i z + sqrt1 - z^2)</center>
<center id='center3790'
>cos^-1 z = pi / 2 - sin^-1 z</center>
<center id='center3791'
>tan^-1 z = (log (1 + i z) - log (1 - i z)) / (2 i)</center>

The above specification follows [CLtL], which in turn
cites [Penfield81]; refer to these sources for more detailed
discussion of branch cuts, boundary conditions, and implementation of
these functions.  When it is possible these procedures produce a real
result from a real argument.<br/><br/>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3796" class="mark"></a><a name="sqrt" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3802" align="left" colspan="1"><strong id='bold3798'
>sqrt</strong><em id='it3801'
>  <code id='code3800'
><em id='it3799'
>z</em></code></em></td><td id="tc3803" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Returns the principal square root of <code id='code3807'
><em id='it3806'
>z</em></code>.  The result will have
either positive real part, or zero real part and non-negative imaginary
part.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3811" class="mark"></a><a name="expt" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3815" align="left" colspan="1"><strong id='bold3813'
>expt</strong><em id='it3814'
>  z1 z2</em></td><td id="tc3816" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Returns <code id='code3820'
><em id='it3819'
>z1</em></code> raised to the power <code id='code3822'
><em id='it3821'
>z2</em></code>.  For z_1 ~= 0<br/><br/><center id='center3824'
>z_1^z_2 = e^z_2 log z_1</center>

0^z is 1 if z = 0 and 0 otherwise.
</td></tr>
</tbody></table><br/>

<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3828" class="mark"></a><a name="make-rectangular" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3832" align="left" colspan="1"><strong id='bold3830'
>make-rectangular</strong><em id='it3831'
>  x1 x2</em></td><td id="tc3833" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3837" class="mark"></a><a name="make-polar" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3841" align="left" colspan="1"><strong id='bold3839'
>make-polar</strong><em id='it3840'
>  x3 x4</em></td><td id="tc3842" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3846" class="mark"></a><a name="real-part" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3852" align="left" colspan="1"><strong id='bold3848'
>real-part</strong><em id='it3851'
>  <code id='code3850'
><em id='it3849'
>z</em></code></em></td><td id="tc3853" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3857" class="mark"></a><a name="imag-part" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3863" align="left" colspan="1"><strong id='bold3859'
>imag-part</strong><em id='it3862'
>  <code id='code3861'
><em id='it3860'
>z</em></code></em></td><td id="tc3864" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3868" class="mark"></a><a name="magnitude" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3874" align="left" colspan="1"><strong id='bold3870'
>magnitude</strong><em id='it3873'
>  <code id='code3872'
><em id='it3871'
>z</em></code></em></td><td id="tc3875" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3879" class="mark"></a><a name="angle" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3885" align="left" colspan="1"><strong id='bold3881'
>angle</strong><em id='it3884'
>  <code id='code3883'
><em id='it3882'
>z</em></code></em></td><td id="tc3886" align="right" colspan="1">procedure</td></tr>
</tbody></table>

These procedures are part of every implementation that supports
general
complex numbers.  Suppose <code id='code3890'
><em id='it3889'
>x1</em></code>, <code id='code3892'
><em id='it3891'
>x2</em></code>, <code id='code3894'
><em id='it3893'
>x3</em></code>, and <code id='code3896'
><em id='it3895'
>x4</em></code> are
real numbers and <code id='code3898'
><em id='it3897'
>z</em></code> is a complex number such that<br/><br/><center id='center3912'
> <code id='code3901'
><em id='it3900'
>z</em></code> = <code id='code3903'
><em id='it3902'
>x1</em></code> + <code id='code3905'
><em id='it3904'
>x2</em></code><strong id='bold3906'
>i</strong> = <code id='code3908'
><em id='it3907'
>x3</em></code> . e^<strong id='bold3909'
>i</strong> <code id='code3911'
><em id='it3910'
>x4</em></code></center>

Then<br/><br/><center id='center3942'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog3940'
>(make-rectangular <code id='code3915'
><em id='it3914'
>x1</em></code> <code id='code3917'
><em id='it3916'
>x2</em></code>)               =&gt; <code id='code3919'
><em id='it3918'
>z</em></code>
(make-polar <code id='code3921'
><em id='it3920'
>x3</em></code> <code id='code3923'
><em id='it3922'
>x4</em></code>)                     =&gt; <code id='code3925'
><em id='it3924'
>z</em></code>
(real-part <code id='code3927'
><em id='it3926'
>z</em></code>)                          =&gt; <code id='code3929'
><em id='it3928'
>x1</em></code>
(imag-part <code id='code3931'
><em id='it3930'
>z</em></code>)                          =&gt; <code id='code3933'
><em id='it3932'
>x2</em></code>
(magnitude <code id='code3935'
><em id='it3934'
>z</em></code>)                          =&gt; |<code id='code3937'
><em id='it3936'
>x3</em></code>|
(angle <code id='code3939'
><em id='it3938'
>z</em></code>)                              =&gt; x_angle
</pre>
</td></tr>
</tbody></table></center>

where -pi &lt; x_angle &lt;= pi with x_angle = <code id='code3944'
><em id='it3943'
>x4</em></code> + 2pi n
for some integer n.<br/><br/><br/><em id='emph3947'
>Rationale:</em>
<samp id='samp3948'
>Magnitude</samp> is the same as <code id='code3949'
>abs</code> for a real argument,
<a name="g3951" class="mark"></a>but <samp id='samp3953'
>abs</samp> must be present in all implementations, whereas
<samp id='samp3954'
>magnitude</samp> need only be present in implementations that support
general complex numbers.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3958" class="mark"></a><a name="exact->inexact" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3964" align="left" colspan="1"><strong id='bold3960'
>exact-&gt;inexact</strong><em id='it3963'
>  <code id='code3962'
><em id='it3961'
>z</em></code></em></td><td id="tc3965" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g3969" class="mark"></a><a name="inexact->exact" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3975" align="left" colspan="1"><strong id='bold3971'
>inexact-&gt;exact</strong><em id='it3974'
>  <code id='code3973'
><em id='it3972'
>z</em></code></em></td><td id="tc3976" align="right" colspan="1">procedure</td></tr>
</tbody></table>

<samp id='samp3979'
>Exact-&gt;inexact</samp> returns an inexact representation of <code id='code3981'
><em id='it3980'
>z</em></code>.
The value returned is the
inexact number that is numerically closest to the argument.  
If an exact argument has no reasonably close inexact equivalent,
then a violation of an implementation restriction may be reported.<br/><br/><samp id='samp3983'
>Inexact-&gt;exact</samp> returns an exact representation of
<code id='code3985'
><em id='it3984'
>z</em></code>.  The value returned is the exact number that is numerically
closest to the argument.
If an inexact argument has no reasonably close exact equivalent,
then a violation of an implementation restriction may be reported.<br/><br/>
These procedures implement the natural one-to-one correspondence between
exact and inexact integers throughout an
implementation-dependent range.  See section <a href="r5rs-9.html#Implementation-restrictions" class="inbound">Implementation restrictions</a>.
</td></tr>
</tbody></table><br/>
<br/><br/><br/>
</div>
<!-- Numerical input and output -->
<a name="Numerical-input-and-output"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.2.6 Numerical input and output</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Numerical-input-and-output" class="mark"></a>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g3991" class="mark"></a><a name="number->string" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc3995" align="left" colspan="1"><strong id='bold3993'
>number-&gt;string</strong><em id='it3994'
>  z</em></td><td id="tc3996" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4001" align="left" colspan="1"><strong id='bold3999'
>number-&gt;string</strong><em id='it4000'
>  z radix</em></td><td id="tc4002" align="right" colspan="1">procedure</td></tr>
</tbody></table>

<code id='code4006'
><em id='it4005'
>Radix</em></code> must be an exact integer, either 2, 8, 10, or 16.  If omitted,
<code id='code4008'
><em id='it4007'
>radix</em></code> defaults to 10.
The procedure <samp id='samp4009'
>number-&gt;string</samp> takes a
number and a radix and returns as a string an external representation of
the given number in the given radix such that<br/><br/><center id='center4018'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4016'
>(<strong id='bold7896'
>let</strong> ((number <code id='code4012'
><em id='it4011'
>number</em></code>)
      (radix <code id='code4014'
><em id='it4013'
>radix</em></code>))
  (eqv? number
        (string-&gt;number (number-&gt;string number
                                        radix)
                        radix)))
</pre>
</td></tr>
</tbody></table></center>

is true.  It is an error if no possible result makes this expression true.<br/><br/>If <code id='code4021'
><em id='it4020'
>z</em></code> is inexact, the radix is 10, and the above expression
can be satisfied by a result that contains a decimal point,
then the result contains a decimal point and is expressed using the
minimum number of digits (exclusive of exponent and trailing
zeroes) needed to make the above expression
true [howtoprint], [howtoread];
otherwise the format of the result is unspecified.<br/><br/>The result returned by <samp id='samp4023'
>number-&gt;string</samp>
never contains an explicit radix prefix.<br/><br/><font size="-1"><em id='emph4025'
>Note:</em>
The error case can occur only when <code id='code4027'
><em id='it4026'
>z</em></code> is not a complex number
or is a complex number with a non-rational real or imaginary part.
</font>
<br/><em id='emph4030'
>Rationale:</em>
If <code id='code4032'
><em id='it4031'
>z</em></code> is an inexact number represented using flonums, and
the radix is 10, then the above expression is normally satisfied by
a result containing a decimal point.  The unspecified case
allows for infinities, NaNs, and non-flonum representations.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4036" class="mark"></a><a name="string->number" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4040" align="left" colspan="1"><strong id='bold4038'
>string-&gt;number</strong><em id='it4039'
>  string</em></td><td id="tc4041" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4046" align="left" colspan="1"><strong id='bold4044'
>string-&gt;number</strong><em id='it4045'
>  string radix</em></td><td id="tc4047" align="right" colspan="1">procedure</td></tr>
</tbody></table>


Returns a number of the maximally precise representation expressed by the
given <code id='code4051'
><em id='it4050'
>string</em></code>.  <code id='code4053'
><em id='it4052'
>Radix</em></code> must be an exact integer, either 2, 8, 10,
or 16.  If supplied, <code id='code4055'
><em id='it4054'
>radix</em></code> is a default radix that may be overridden
by an explicit radix prefix in <code id='code4057'
><em id='it4056'
>string</em></code> (e.g. <tt id='tt4058'
>&quot;#o177&quot;</tt>).  If <code id='code4060'
><em id='it4059'
>radix</em></code>
is not supplied, then the default radix is 10.  If <code id='code4062'
><em id='it4061'
>string</em></code> is not
a syntactically valid notation for a number, then <samp id='samp4063'
>string-&gt;number</samp>
returns <tt id='tt4064'
>#f</tt>.<br/><br/><center id='center4072'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4070'
>(string-&gt;number <font color="red">&quot;100&quot;</font>)                 =&gt;  100
(string-&gt;number <font color="red">&quot;100&quot;</font> 16)              =&gt;  256
(string-&gt;number <font color="red">&quot;1e2&quot;</font>)                 =&gt;  100.0
(string-&gt;number <font color="red">&quot;15##&quot;</font>)                =&gt;  1500.0
</pre>
</td></tr>
</tbody></table></center>

<font size="-1"><em id='emph4073'
>Note:</em>
The domain of <samp id='samp4074'
>string-&gt;number</samp> may be restricted by implementations
in the following ways.  <samp id='samp4075'
>String-&gt;number</samp> is permitted to return
<tt id='tt4076'
>#f</tt> whenever <code id='code4078'
><em id='it4077'
>string</em></code> contains an explicit radix prefix.
If all numbers supported by an implementation are real, then
<samp id='samp4079'
>string-&gt;number</samp> is permitted to return <tt id='tt4080'
>#f</tt> whenever
<code id='code4082'
><em id='it4081'
>string</em></code> uses the polar or rectangular notations for complex
numbers.  If all numbers are integers, then
<samp id='samp4083'
>string-&gt;number</samp> may return <tt id='tt4084'
>#f</tt> whenever
the fractional notation is used.  If all numbers are exact, then
<samp id='samp4085'
>string-&gt;number</samp> may return <tt id='tt4086'
>#f</tt> whenever
an exponent marker or explicit exactness prefix is used, or if
a <tt id='tt4087'
>#</tt> appears in place of a digit.  If all inexact
numbers are integers, then
<samp id='samp4088'
>string-&gt;number</samp> may return <tt id='tt4089'
>#f</tt> whenever
a decimal point is used.
</font></td></tr>
</tbody></table><br/>
</div>
</div><br>
<!-- Other data types -->
<a name="Other-data-types"></a>
<div class="section-atitle"><table width="100%"><tr><td bgcolor="#dedeff"><h3><font color="black">6.3 Other data types</font>
</h3></td></tr></table>
</div><div class="section">
<a name="Other-data-types" class="mark"></a>

This section describes operations on some of Scheme's non-numeric data types:
booleans, pairs, lists, symbols, characters, strings and vectors.<br/><br/><!-- Booleans -->
<a name="Booleans"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.3.1 Booleans</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Booleans" class="mark"></a>
The standard boolean objects for true and false are written as
<tt id='tt4094'
>#t</tt> and <tt id='tt4095'
>#f</tt>.  What really
<a name="g4096" class="mark"></a><a name="g4098" class="mark"></a>matters, though, are the objects that the Scheme conditional expressions
(<samp id='samp4100'
>if</samp>, <samp id='samp4101'
>cond</samp>, <samp id='samp4102'
>and</samp>, <samp id='samp4103'
>or</samp>, <samp id='samp4104'
>do</samp>) treat as
true or false.  The phrase ``a true value''
<a name="g4106" class="mark"></a><a name="g4109" class="mark"></a>(or sometimes just ``true'') means any object treated as true by the
conditional expressions, and the phrase ``a false value'' (or
<a name="g4112" class="mark"></a>``false'') means any object treated as false by the conditional expressions.<br/><br/>Of all the standard Scheme values, only <tt id='tt4115'
>#f</tt>
counts as false in conditional expressions.
Except for <tt id='tt4116'
>#f</tt>,
all standard Scheme values, including <tt id='tt4117'
>#t</tt>,
pairs, the empty list, symbols, numbers, strings, vectors, and procedures,
count as true.<br/><br/>

<font size="-1"><em id='emph4119'
>Note:</em>
Programmers accustomed to other dialects of Lisp should be aware that
Scheme distinguishes both <tt id='tt4120'
>#f</tt> and the empty list 
<a name="g4122" class="mark"></a>from the symbol <code id='code4124'
>nil</code>.
<a name="g4126" class="mark"></a></font>
Boolean constants evaluate to themselves, so they do not need to be quoted
in programs.<br/><br/><center id='center4132'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4130'
>#t                                     =&gt;  #t
#f                                     =&gt;  #f
'#f                                    =&gt;  #f
</pre>
</td></tr>
</tbody></table></center>

<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4134" class="mark"></a><a name="not" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4138" align="left" colspan="1"><strong id='bold4136'
>not</strong><em id='it4137'
>  obj</em></td><td id="tc4139" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

<samp id='samp4142'
>Not</samp> returns <tt id='tt4143'
>#t</tt> if <code id='code4145'
><em id='it4144'
>obj</em></code> is false, and returns
<tt id='tt4146'
>#f</tt> otherwise.<br/><br/><center id='center4150'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4148'
>(not #t)                               =&gt;  #f
(not 3)                                =&gt;  #f
(not (list 3))                         =&gt;  #f
(not #f)                               =&gt;  #t
(not '())                              =&gt;  #f
(not (list))                           =&gt;  #f
(not 'nil)                             =&gt;  #f
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4154" class="mark"></a><a name="boolean?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4158" align="left" colspan="1"><strong id='bold4156'
>boolean?</strong><em id='it4157'
>  obj</em></td><td id="tc4159" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

<samp id='samp4162'
>Boolean?</samp> returns <tt id='tt4163'
>#t</tt> if <code id='code4165'
><em id='it4164'
>obj</em></code> is either <tt id='tt4166'
>#t</tt> or
<tt id='tt4167'
>#f</tt> and returns <tt id='tt4168'
>#f</tt> otherwise.<br/><br/><center id='center4172'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4170'
>(boolean? #f)                          =&gt;  #t
(boolean? 0)                           =&gt;  #f
(boolean? '())                         =&gt;  #f
</pre>
</td></tr>
</tbody></table></center>

</td></tr>
</tbody></table><br/> 
</div>
<!-- Pairs and lists -->
<a name="Pairs-and-lists"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.3.2 Pairs and lists</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Pairs-and-lists" class="mark"></a>
A &quot;pair&quot; (sometimes called a &quot;dotted pair&quot;) is a
<a name="g4176" class="mark"></a><a name="g4179" class="mark"></a>record structure with two fields called the car and cdr fields (for
historical reasons).  Pairs are created by the procedure <samp id='samp4181'
>cons</samp>.
The car and cdr fields are accessed by the procedures <samp id='samp4182'
>car</samp> and
<samp id='samp4183'
>cdr</samp>.  The car and cdr fields are assigned by the procedures
<samp id='samp4184'
>set-car!</samp> and <samp id='samp4185'
>set-cdr!</samp>.<br/><br/>Pairs are used primarily to represent lists.  A list can
be defined recursively as either the empty list or a pair whose
<a name="g4188" class="mark"></a>cdr is a list.  More precisely, the set of lists is defined as the smallest
set <code id='code4191'
><em id='it4190'
>X</em></code> such that<br/><br/><ul class="itemize" id='itemize4206'
><li>The empty list is in <code id='code4194'
><em id='it4193'
>X</em></code>.
</li>
<li>If <code id='code4197'
><em id='it4196'
>list</em></code> is in <code id='code4199'
><em id='it4198'
>X</em></code>, then any pair whose cdr field contains
<code id='code4201'
><em id='it4200'
>list</em></code> is also in <code id='code4203'
><em id='it4202'
>X</em></code>.<br/><br/></li>
</ul>
The objects in the car fields of successive pairs of a list are the
elements of the list.  For example, a two-element list is a pair whose car
is the first element and whose cdr is a pair whose car is the second element
and whose cdr is the empty list.  The length of a list is the number of
elements, which is the same as the number of pairs.<br/><br/>The empty list is a special object of its own type
<a name="g4209" class="mark"></a>(it is not a pair); it has no elements and its length is zero.<br/><br/><font size="-1"><em id='emph4212'
>Note:</em>
The above definitions imply that all lists have finite length and are
terminated by the empty list.
</font>
The most general notation (external representation) for Scheme pairs is
the ``dotted'' notation <strong id='bold4219'
><samp id='samp4218'
>(<code id='code4215'
><em id='it4214'
>c1</em></code> .: <code id='code4217'
><em id='it4216'
>c2</em></code>)</samp></strong> where
<code id='code4221'
><em id='it4220'
>c1</em></code> is the value of the car field and <code id='code4223'
><em id='it4222'
>c2</em></code> is the value of the
cdr field.  For example <samp id='samp4224'
>(4 .: 5)</samp> is a pair whose car is 4 and whose
cdr is 5.  Note that <samp id='samp4225'
>(4 .: 5)</samp> is the external representation of a
pair, not an expression that evaluates to a pair.<br/><br/>A more streamlined notation can be used for lists: the elements of the
list are simply enclosed in parentheses and separated by spaces.  The
empty list is written <tt id='tt4227'
>()</tt> .  For example,
<a name="g4229" class="mark"></a>
<center id='center4233'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4231'
>(a b c d e)
</pre>
</td></tr>
</tbody></table></center>

and<br/><br/><center id='center4237'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4235'
>(a . (b . (c . (d . (e . ())))))
</pre>
</td></tr>
</tbody></table></center>

are equivalent notations for a list of symbols.<br/><br/>A chain of pairs not ending in the empty list is called an
&quot;improper list&quot;.  Note that an improper list is not a list.
<a name="g4240" class="mark"></a>The list and dotted notations can be combined to represent
improper lists:<br/><br/><center id='center4245'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4243'
>(a b c . d)
</pre>
</td></tr>
</tbody></table></center>

is equivalent to<br/><br/><center id='center4249'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4247'
>(a . (b . (c . d)))
</pre>
</td></tr>
</tbody></table></center>

Whether a given pair is a list depends upon what is stored in the cdr
field.  When the <code id='code4250'
>set-cdr!</code> procedure is used, an object can be a
<a name="g4252" class="mark"></a>list one moment and not the next:<br/><br/><center id='center4261'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4259'
>(<font color="#6959cf"><strong id='bold7901'
>define</strong></font> <font color="#6959cf"><strong id='bold7903'
>x</strong></font> (list 'a 'b 'c))
(<font color="#6959cf"><strong id='bold7905'
>define</strong></font> <font color="#6959cf"><strong id='bold7907'
>y</strong></font> x)
y                                      =&gt;  (a b c)
(list? y)                              =&gt;  #t
(set-cdr! x 4)                         =&gt;  <em id='emph4255'
>unspecified</em>
x                                      =&gt;  (a . 4)
(eqv? x y)                             =&gt;  #t
y                                      =&gt;  (a . 4)
(list? y)                              =&gt;  #f
(set-cdr! x x)                         =&gt;  <em id='emph4256'
>unspecified</em>
(list? x)                              =&gt;  #f
</pre>
</td></tr>
</tbody></table></center>



Within literal expressions and representations of objects read by the
<code id='code4262'
>read</code> procedure, the forms <tt id='tt4263'
>'</tt>&lt;datum&gt;,
<a name="g4264" class="mark"></a><a name="g4267" class="mark"></a><tt id='tt4269'
>`</tt>&lt;datum&gt;, <tt id='tt4270'
>,</tt>&lt;datum&gt;, and
<a name="g4271" class="mark"></a><tt id='tt4273'
>,&#x40;</tt>&lt;datum&gt; denote two-element lists whose first elements are
the symbols <code id='code4274'
>quote</code>, <code id='code4275'
>quasiquote</code>, <strong id='bold4277'
><code id='code4276'
>unquote</code></strong>, and
<a name="g4279" class="mark"></a><a name="g4282" class="mark"></a><a name="g4285" class="mark"></a><code id='code4287'
>unquote-splicing</code>, respectively.  The second element in each case
<a name="g4289" class="mark"></a>is &lt;datum&gt;.  This convention is supported so that arbitrary Scheme
programs may be represented as lists.  
 That is, according to Scheme's grammar, every
&lt;expression&gt; is also a &lt;datum&gt; (see section <a href="r5rs-10.html#External-representation" class="inbound">External representation</a>).
Among other things, this permits the use of the <samp id='samp4291'
>read</samp> procedure to
parse Scheme programs.  See section <a href="r5rs-6.html#External-representations" class="inbound">External representations</a>. <br/><br/><table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4294" class="mark"></a><a name="pair?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4298" align="left" colspan="1"><strong id='bold4296'
>pair?</strong><em id='it4297'
>  obj</em></td><td id="tc4299" align="right" colspan="1">procedure</td></tr>
</tbody></table>

<samp id='samp4302'
>Pair?</samp> returns <tt id='tt4303'
>#t</tt> if <code id='code4305'
><em id='it4304'
>obj</em></code> is a pair, and otherwise
returns <tt id='tt4306'
>#f</tt>.<br/><br/><center id='center4310'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4308'
>(pair? '(a . b))                       =&gt;  #t
(pair? '(a b c))                       =&gt;  #t
(pair? '())                            =&gt;  #f
(pair? '#(a b))                        =&gt;  #f
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4314" class="mark"></a><a name="cons" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4318" align="left" colspan="1"><strong id='bold4316'
>cons</strong><em id='it4317'
>  obj1 obj2</em></td><td id="tc4319" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Returns a newly allocated pair whose car is <code id='code4323'
><em id='it4322'
>obj1</em></code> and whose cdr is
<code id='code4325'
><em id='it4324'
>obj2</em></code>.  The pair is guaranteed to be different (in the sense of
<samp id='samp4326'
>eqv?</samp>) from every existing object.<br/><br/><center id='center4332'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4330'
>(cons 'a '())                          =&gt;  (a)
(cons '(a) '(b c d))                   =&gt;  ((a) b c d)
(cons <font color="red">&quot;a&quot;</font> '(b c))                      =&gt;  (<font color="red">&quot;a&quot;</font> b c)
(cons 'a 3)                            =&gt;  (a . 3)
(cons '(a b) 'c)                       =&gt;  ((a b) . c)
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4336" class="mark"></a><a name="car" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4340" align="left" colspan="1"><strong id='bold4338'
>car</strong><em id='it4339'
>  pair</em></td><td id="tc4341" align="right" colspan="1">procedure</td></tr>
</tbody></table>


Returns the contents of the car field of <code id='code4345'
><em id='it4344'
>pair</em></code>.  Note that it is an
error to take the car of the empty list.
<a name="g4347" class="mark"></a>
<center id='center4352'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4350'
>(car '(a b c))                         =&gt;  a
(car '((a) b c d))                     =&gt;  (a)
(car '(1 . 2))                         =&gt;  1
(car '())                              =&gt;  <em id='emph4349'
>error</em>
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4356" class="mark"></a><a name="cdr" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4360" align="left" colspan="1"><strong id='bold4358'
>cdr</strong><em id='it4359'
>  pair</em></td><td id="tc4361" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Returns the contents of the cdr field of <code id='code4365'
><em id='it4364'
>pair</em></code>.
Note that it is an error to take the cdr of the empty list.<br/><br/><center id='center4370'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4368'
>(cdr '((a) b c d))                     =&gt;  (b c d)
(cdr '(1 . 2))                         =&gt;  2
(cdr '())                              =&gt;  <em id='emph4367'
>error</em>
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4374" class="mark"></a><a name="set-car!" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4378" align="left" colspan="1"><strong id='bold4376'
>set-car!</strong><em id='it4377'
>  pair obj</em></td><td id="tc4379" align="right" colspan="1">procedure</td></tr>
</tbody></table>

  
Stores <code id='code4383'
><em id='it4382'
>obj</em></code> in the car field of <code id='code4385'
><em id='it4384'
>pair</em></code>.
The value returned by <samp id='samp4386'
>set-car!</samp> is unspecified.  

<center id='center4393'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4391'
>(<font color="#6959cf"><strong id='bold7911'
>define</strong></font> (<font color="#6959cf"><strong id='bold7913'
>f</strong></font>) (list 'not-a-constant-list))
(<font color="#6959cf"><strong id='bold7915'
>define</strong></font> (<font color="#6959cf"><strong id='bold7917'
>g</strong></font>) '(constant-list))
(set-car! (f) 3)                       =&gt;  <em id='emph4387'
>unspecified</em>
(set-car! (g) 3)                       =&gt;  <em id='emph4388'
>error</em>
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4397" class="mark"></a><a name="set-cdr!" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4401" align="left" colspan="1"><strong id='bold4399'
>set-cdr!</strong><em id='it4400'
>  pair obj</em></td><td id="tc4402" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Stores <code id='code4406'
><em id='it4405'
>obj</em></code> in the cdr field of <code id='code4408'
><em id='it4407'
>pair</em></code>.
The value returned by <samp id='samp4409'
>set-cdr!</samp> is unspecified.  

</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4413" class="mark"></a><a name="caar" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4417" align="left" colspan="1"><strong id='bold4415'
>caar</strong><em id='it4416'
>  pair</em></td><td id="tc4418" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g4422" class="mark"></a><a name="cadr" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4426" align="left" colspan="1"><strong id='bold4424'
>cadr</strong><em id='it4425'
>  pair</em></td><td id="tc4427" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4432" align="left" colspan="1"><em id='it4431'
><strong id='bold4430'
>         ...</strong></em></td><td id="tc4434" align="right" colspan="1">       <strong id='bold4433'
>         ...</strong></td></tr>
</tbody></table>
<a name="g4438" class="mark"></a><a name="cdddar" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4442" align="left" colspan="1"><strong id='bold4440'
>cdddar</strong><em id='it4441'
>  pair</em></td><td id="tc4443" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g4447" class="mark"></a><a name="cddddr" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4451" align="left" colspan="1"><strong id='bold4449'
>cddddr</strong><em id='it4450'
>  pair</em></td><td id="tc4452" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

These procedures are compositions of <samp id='samp4455'
>car</samp> and <samp id='samp4456'
>cdr</samp>, where
for example <samp id='samp4457'
>caddr</samp> could be defined by<br/><br/><center id='center4463'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4461'
>(<font color="#6959cf"><strong id='bold7919'
>define</strong></font> <font color="#6959cf"><strong id='bold7921'
>caddr</strong></font> (<strong id='bold7923'
>lambda</strong> (x) (car (cdr (cdr x))))).
</pre>
</td></tr>
</tbody></table></center>

Arbitrary compositions, up to four deep, are provided.  There are
twenty-eight of these procedures in all.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4467" class="mark"></a><a name="null?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4471" align="left" colspan="1"><strong id='bold4469'
>null?</strong><em id='it4470'
>  obj</em></td><td id="tc4472" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

Returns <tt id='tt4475'
>#t</tt> if <code id='code4477'
><em id='it4476'
>obj</em></code> is the empty list,
<a name="g4479" class="mark"></a>otherwise returns <tt id='tt4481'
>#f</tt>.<br/><br/> 
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4486" class="mark"></a><a name="list?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4490" align="left" colspan="1"><strong id='bold4488'
>list?</strong><em id='it4489'
>  obj</em></td><td id="tc4491" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

Returns <tt id='tt4494'
>#t</tt> if <code id='code4496'
><em id='it4495'
>obj</em></code> is a list, otherwise returns <tt id='tt4497'
>#f</tt>.
By definition, all lists have finite length and are terminated by
the empty list.<br/><br/><center id='center4502'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4500'
>        (list? '(a b c))               =&gt;  #t
        (list? '())                    =&gt;  #t
        (list? '(a . b))               =&gt;  #f
        (<strong id='bold7924'
>let</strong> ((x (list 'a)))
          (set-cdr! x x)
          (list? x))                   =&gt;  #f
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4506" class="mark"></a><a name="list" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4512" align="left" colspan="1"><strong id='bold4508'
>list</strong><em id='it4511'
>  <code id='code4510'
><em id='it4509'
>obj</em></code> ...,</em></td><td id="tc4513" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
Returns a newly allocated list of its arguments.<br/><br/><center id='center4519'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4517'
>(list 'a (+ 3 4) 'c)                   =&gt;  (a 7 c)
(list)                                 =&gt;  ()
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4523" class="mark"></a><a name="length" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4527" align="left" colspan="1"><strong id='bold4525'
>length</strong><em id='it4526'
>  list</em></td><td id="tc4528" align="right" colspan="1">library procedure</td></tr>
</tbody></table>


Returns the length of <code id='code4532'
><em id='it4531'
>list</em></code>.<br/><br/><center id='center4536'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4534'
>(length '(a b c))                      =&gt;  3
(length '(a (b) (c d e)))              =&gt;  3
(length '())                           =&gt;  0
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4540" class="mark"></a><a name="append" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4544" align="left" colspan="1"><strong id='bold4542'
>append</strong><em id='it4543'
>  list ...,</em></td><td id="tc4545" align="right" colspan="1">library procedure</td></tr>
</tbody></table>


Returns a list consisting of the elements of the first <code id='code4549'
><em id='it4548'
>list</em></code>
followed by the elements of the other <code id='code4551'
><em id='it4550'
>list</em></code>s.<br/><br/><center id='center4555'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4553'
>(append '(x) '(y))                     =&gt;  (x y)
(append '(a) '(b c d))                 =&gt;  (a b c d)
(append '(a (b)) '((c)))               =&gt;  (a (b) (c))
</pre>
</td></tr>
</tbody></table></center>

The resulting list is always newly allocated, except that it shares
structure with the last <code id='code4557'
><em id='it4556'
>list</em></code> argument.  The last argument may
actually be any object; an improper list results if the last argument is not a
proper list.  

<center id='center4560'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4558'
>(append '(a b) '(c . d))               =&gt;  (a b c . d)
(append '() 'a)                        =&gt;  a
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4564" class="mark"></a><a name="reverse" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4568" align="left" colspan="1"><strong id='bold4566'
>reverse</strong><em id='it4567'
>  list</em></td><td id="tc4569" align="right" colspan="1">library procedure</td></tr>
</tbody></table>


Returns a newly allocated list consisting of the elements of <code id='code4573'
><em id='it4572'
>list</em></code>
in reverse order.<br/><br/><center id='center4577'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4575'
>(reverse '(a b c))                     =&gt;  (c b a)
(reverse '(a (b c) d (e (f))))  
          =&gt;  ((e (f)) d (b c) a)
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4581" class="mark"></a><a name="list-tail" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4587" align="left" colspan="1"><strong id='bold4583'
>list-tail</strong><em id='it4586'
>  list <code id='code4585'
><em id='it4584'
>k</em></code></em></td><td id="tc4588" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

Returns the sublist of <code id='code4592'
><em id='it4591'
>list</em></code> obtained by omitting the first <code id='code4594'
><em id='it4593'
>k</em></code>
elements.  It is an error if <code id='code4596'
><em id='it4595'
>list</em></code> has fewer than <code id='code4598'
><em id='it4597'
>k</em></code> elements.
<samp id='samp4599'
>List-tail</samp> could be defined by<br/><br/><center id='center4606'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4604'
>(<font color="#6959cf"><strong id='bold7925'
>define</strong></font> <font color="#6959cf"><strong id='bold7927'
>list-tail</strong></font>
  (<strong id='bold7929'
>lambda</strong> (x k)
    (<strong id='bold7930'
>if</strong> (zero? k)
        x
        (list-tail (cdr x) (- k 1)))))
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4610" class="mark"></a><a name="list-ref" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4616" align="left" colspan="1"><strong id='bold4612'
>list-ref</strong><em id='it4615'
>  list <code id='code4614'
><em id='it4613'
>k</em></code></em></td><td id="tc4617" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

Returns the <code id='code4621'
><em id='it4620'
>k</em></code>th element of <code id='code4623'
><em id='it4622'
>list</em></code>.  (This is the same
as the car of <tt id='tt4628'
>(list-tail <code id='code4625'
><em id='it4624'
>list</em></code> <code id='code4627'
><em id='it4626'
>k</em></code>)</tt>.)
It is an error if <code id='code4630'
><em id='it4629'
>list</em></code> has fewer than <code id='code4632'
><em id='it4631'
>k</em></code> elements.<br/><br/><center id='center4636'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4634'
>(list-ref '(a b c d) 2)                 =&gt;  c
(list-ref '(a b c d)
          (inexact-&gt;exact (round 1.8))) 
          =&gt;  c
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>




<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4640" class="mark"></a><a name="memq" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4644" align="left" colspan="1"><strong id='bold4642'
>memq</strong><em id='it4643'
>  obj list</em></td><td id="tc4645" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g4649" class="mark"></a><a name="memv" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4653" align="left" colspan="1"><strong id='bold4651'
>memv</strong><em id='it4652'
>  obj list</em></td><td id="tc4654" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g4658" class="mark"></a><a name="member" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4662" align="left" colspan="1"><strong id='bold4660'
>member</strong><em id='it4661'
>  obj list</em></td><td id="tc4663" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

These procedures return the first sublist of <code id='code4667'
><em id='it4666'
>list</em></code> whose car is
<code id='code4669'
><em id='it4668'
>obj</em></code>, where the sublists of <code id='code4671'
><em id='it4670'
>list</em></code> are the non-empty lists
returned by <tt id='tt4676'
>(list-tail <code id='code4673'
><em id='it4672'
>list</em></code> <code id='code4675'
><em id='it4674'
>k</em></code>)</tt> for <code id='code4678'
><em id='it4677'
>k</em></code> less
than the length of <code id='code4680'
><em id='it4679'
>list</em></code>.  If
<code id='code4682'
><em id='it4681'
>obj</em></code> does not occur in <code id='code4684'
><em id='it4683'
>list</em></code>, then <tt id='tt4685'
>#f</tt> (not the empty list) is
returned.  <samp id='samp4686'
>Memq</samp> uses <samp id='samp4687'
>eq?</samp> to compare <code id='code4689'
><em id='it4688'
>obj</em></code> with the elements of
<code id='code4691'
><em id='it4690'
>list</em></code>, while <samp id='samp4692'
>memv</samp> uses <samp id='samp4693'
>eqv?</samp> and <samp id='samp4694'
>member</samp> uses <samp id='samp4695'
>equal?</samp>.<br/><br/><center id='center4700'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4698'
>(memq 'a '(a b c))                     =&gt;  (a b c)
(memq 'b '(a b c))                     =&gt;  (b c)
(memq 'a '(b c d))                     =&gt;  #f
(memq (list 'a) '(b (a) c))            =&gt;  #f
(member (list 'a)
        '(b (a) c))                    =&gt;  ((a) c)
(memq 101 '(100 101 102))              =&gt;  <em id='emph4697'
>unspecified</em>
(memv 101 '(100 101 102))              =&gt;  (101 102)
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4704" class="mark"></a><a name="assq" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4708" align="left" colspan="1"><strong id='bold4706'
>assq</strong><em id='it4707'
>  obj alist</em></td><td id="tc4709" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g4713" class="mark"></a><a name="assv" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4717" align="left" colspan="1"><strong id='bold4715'
>assv</strong><em id='it4716'
>  obj alist</em></td><td id="tc4718" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g4722" class="mark"></a><a name="assoc" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4726" align="left" colspan="1"><strong id='bold4724'
>assoc</strong><em id='it4725'
>  obj alist</em></td><td id="tc4727" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

<code id='code4731'
><em id='it4730'
>Alist</em></code> (for ``association list'') must be a list of
pairs.  These procedures find the first pair in <code id='code4733'
><em id='it4732'
>alist</em></code> whose car field is <code id='code4735'
><em id='it4734'
>obj</em></code>,
and returns that pair.  If no pair in <code id='code4737'
><em id='it4736'
>alist</em></code> has <code id='code4739'
><em id='it4738'
>obj</em></code> as its
car, then <tt id='tt4740'
>#f</tt> (not the empty list) is returned.  <samp id='samp4741'
>Assq</samp> uses
<samp id='samp4742'
>eq?</samp> to compare <code id='code4744'
><em id='it4743'
>obj</em></code> with the car fields of the pairs in <code id='code4746'
><em id='it4745'
>alist</em></code>,
while <samp id='samp4747'
>assv</samp> uses <samp id='samp4748'
>eqv?</samp> and <samp id='samp4749'
>assoc</samp> uses <samp id='samp4750'
>equal?</samp>.<br/><br/><center id='center4756'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4754'
>(<font color="#6959cf"><strong id='bold7931'
>define</strong></font> <font color="#6959cf"><strong id='bold7933'
>e</strong></font> '((a 1) (b 2) (c 3)))
(assq 'a e)                            =&gt;  (a 1)
(assq 'b e)                            =&gt;  (b 2)
(assq 'd e)                            =&gt;  #f
(assq (list 'a) '(((a)) ((b)) ((c))))
                                       =&gt;  #f
(assoc (list 'a) '(((a)) ((b)) ((c))))   
                                       =&gt;  ((a))
(assq 5 '((2 3) (5 7) (11 13)))    
                                       =&gt;  <em id='emph4752'
>unspecified</em>
(assv 5 '((2 3) (5 7) (11 13)))    
                                       =&gt;  (5 7)
</pre>
</td></tr>
</tbody></table></center>

<br/><em id='emph4758'
>Rationale:</em>
Although they are ordinarily used as predicates,
<samp id='samp4759'
>memq</samp>, <samp id='samp4760'
>memv</samp>, <samp id='samp4761'
>member</samp>, <samp id='samp4762'
>assq</samp>, <samp id='samp4763'
>assv</samp>, and <samp id='samp4764'
>assoc</samp> do not
have question marks in their names because they return useful values rather
than just <tt id='tt4765'
>#t</tt> or <tt id='tt4766'
>#f</tt>.<br/><br/></td></tr>
</tbody></table><br/>
</div>
<!-- Symbols -->
<a name="Symbols"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.3.3 Symbols</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Symbols" class="mark"></a>Symbols are objects whose usefulness rests on the fact that two
symbols are identical (in the sense of <samp id='samp4770'
>eqv?</samp>) if and only if their
names are spelled the same way.  This is exactly the property needed to
represent identifiers in programs, and so most
<a name="g4772" class="mark"></a>implementations of Scheme use them internally for that purpose.  Symbols
are useful for many other applications; for instance, they may be used
the way enumerated values are used in Pascal.<br/><br/>The rules for writing a symbol are exactly the same as the rules for
writing an identifier; see sections <a href="r5rs-5.html#Identifiers" class="inbound">Identifiers</a>
and <a href="r5rs-10.html#Lexical-structure" class="inbound">Lexical structure</a>.<br/><br/>It is guaranteed that any symbol that has been returned as part of
a literal expression, or read using the <samp id='samp4776'
>read</samp> procedure, and
subsequently written out using the <samp id='samp4777'
>write</samp> procedure, will read back
in as the identical symbol (in the sense of <samp id='samp4778'
>eqv?</samp>).  The
<samp id='samp4779'
>string-&gt;symbol</samp> procedure, however, can create symbols for
which this write/read invariance may not hold because their names
contain special characters or letters in the non-standard case.<br/><br/><font size="-1"><em id='emph4781'
>Note:</em>
Some implementations of Scheme have a feature known as ``slashification''
in order to guarantee write/read invariance for all symbols, but
historically the most important use of this feature has been to
compensate for the lack of a string data type.<br/><br/>Some implementations also have ``uninterned symbols'', which
defeat write/read invariance even in implementations with slashification,
and also generate exceptions to the rule that two symbols are the same
if and only if their names are spelled the same.
</font>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4785" class="mark"></a><a name="symbol?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4789" align="left" colspan="1"><strong id='bold4787'
>symbol?</strong><em id='it4788'
>  obj</em></td><td id="tc4790" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns <tt id='tt4793'
>#t</tt> if <code id='code4795'
><em id='it4794'
>obj</em></code> is a symbol, otherwise returns <tt id='tt4796'
>#f</tt>.<br/><br/><center id='center4801'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4799'
>(symbol? 'foo)                         =&gt;  #t
(symbol? (car '(a b)))                 =&gt;  #t
(symbol? <font color="red">&quot;bar&quot;</font>)                        =&gt;  #f
(symbol? 'nil)                         =&gt;  #t
(symbol? '())                          =&gt;  #f
(symbol? #f)                           =&gt;  #f
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4805" class="mark"></a><a name="symbol->string" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4809" align="left" colspan="1"><strong id='bold4807'
>symbol-&gt;string</strong><em id='it4808'
>  symbol</em></td><td id="tc4810" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Returns the name of <code id='code4814'
><em id='it4813'
>symbol</em></code> as a string.  If the symbol was part of
an object returned as the value of a literal expression
(section <a href="r5rs-7.html#Literal-expressions" class="inbound">Literal expressions</a>) or by a call to the <samp id='samp4815'
>read</samp> procedure,
and its name contains alphabetic characters, then the string returned
will contain characters in the implementation's preferred standard
case---some implementations will prefer upper case, others lower case.
If the symbol was returned by <samp id='samp4816'
>string-&gt;symbol</samp>, the case of
characters in the string returned will be the same as the case in the
string that was passed to <samp id='samp4817'
>string-&gt;symbol</samp>.  It is an error
to apply mutation procedures like <code id='code4818'
>string-set!</code> to strings returned
<a name="g4820" class="mark"></a>by this procedure.<br/><br/>The following examples assume that the implementation's standard case is
lower case:<br/><br/><center id='center4830'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4828'
>(symbol-&gt;string 'flying-fish)     
                                       =&gt;  <font color="red">&quot;flying-fish&quot;</font>
(symbol-&gt;string 'Martin)               =&gt;  <font color="red">&quot;martin&quot;</font>
(symbol-&gt;string
   (string-&gt;symbol <font color="red">&quot;Malvina&quot;</font>))     
                                       =&gt;  <font color="red">&quot;Malvina&quot;</font>
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4834" class="mark"></a><a name="string->symbol" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4838" align="left" colspan="1"><strong id='bold4836'
>string-&gt;symbol</strong><em id='it4837'
>  string</em></td><td id="tc4839" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns the symbol whose name is <code id='code4843'
><em id='it4842'
>string</em></code>.  This procedure can
create symbols with names containing special characters or letters in
the non-standard case, but it is usually a bad idea to create such
symbols because in some implementations of Scheme they cannot be read as
themselves.  See <samp id='samp4844'
>symbol-&gt;string</samp>.<br/><br/>The following examples assume that the implementation's standard case is
lower case:<br/><br/><center id='center4854'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog4852'
>(eq? 'mISSISSIppi 'mississippi)  
          =&gt;  #t
(string-&gt;symbol <font color="red">&quot;mISSISSIppi&quot;</font>)  
          =&gt;
  the symbol with name <font color="red">&quot;mISSISSIppi&quot;</font>
(eq? 'bitBlt (string-&gt;symbol <font color="red">&quot;bitBlt&quot;</font>))     
          =&gt;  #f
(eq? 'JollyWog
     (string-&gt;symbol
       (symbol-&gt;string 'JollyWog)))  
          =&gt;  #t
(string=? <font color="red">&quot;K. Harper, M.D.&quot;</font>
          (symbol-&gt;string
            (string-&gt;symbol <font color="red">&quot;K. Harper, M.D.&quot;</font>)))  
          =&gt;  #t
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
</div>
<!-- Characters -->
<a name="Characters"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.3.4 Characters</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Characters" class="mark"></a>
Characters are objects that represent printed characters such as
letters and digits.  
Characters are written using the notation #\&lt;character&gt;
or #\&lt;character name&gt;.
For example:<br/><br/><font size="-1"><dl class="description" id='description4870'
> <dt><tt id='tt4858'
>#\a</tt></dt> <dt>
</dt><dd>; lower case letter
</dd>
 <dt><tt id='tt4860'
>#\A</tt></dt> <dt>
</dt><dd>; upper case letter
</dd>
 <dt><tt id='tt4862'
>#\(</tt></dt> <dt>
</dt><dd>; left parenthesis
</dd>
 <dt><tt id='tt4864'
>#\ </tt></dt> <dt>
</dt><dd>; the space character
</dd>
 <dt><tt id='tt4866'
>#\space</tt></dt> <dt>
</dt><dd>; the preferred way to write a space
</dd>
 <dt><tt id='tt4868'
>#\newline</tt></dt> <dt>
</dt><dd>; the newline character
</dd>
</dl></font>
Case is significant in #\&lt;character&gt;, but not in
#\&lt;character name&gt;.  
                                                            
If &lt;character&gt; in
#\&lt;character&gt; is alphabetic, then the character
following &lt;character&gt; must be a delimiter character such as a
space or parenthesis.  This rule resolves the ambiguous case where, for
example, the sequence of characters ``<tt id='tt4872'
>#\ space</tt>''
could be taken to be either a representation of the space character or a
representation of the character ``<tt id='tt4873'
>#\ s</tt>'' followed
by a representation of the symbol ``<tt id='tt4874'
>pace</tt>.''<br/><br/>
Characters written in the #\ notation are self-evaluating.
That is, they do not have to be quoted in programs.  

Some of the procedures that operate on characters ignore the
difference between upper case and lower case.  The procedures that
ignore case have <strong id='bold4877'
>``<tt id='tt4876'
>-ci</tt>''</strong> (for ``case
insensitive'') embedded in their names.<br/><br/><table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4880" class="mark"></a><a name="char?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4884" align="left" colspan="1"><strong id='bold4882'
>char?</strong><em id='it4883'
>  obj</em></td><td id="tc4885" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns <tt id='tt4888'
>#t</tt> if <code id='code4890'
><em id='it4889'
>obj</em></code> is a character, otherwise returns <tt id='tt4891'
>#f</tt>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4895" class="mark"></a><a name="char=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4899" align="left" colspan="1"><strong id='bold4897'
>char=?</strong><em id='it4898'
>  char1 char2</em></td><td id="tc4900" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g4904" class="mark"></a><a name="char<?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4908" align="left" colspan="1"><strong id='bold4906'
>char&lt;?</strong><em id='it4907'
>  char1 char2</em></td><td id="tc4909" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g4913" class="mark"></a><a name="char>?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4917" align="left" colspan="1"><strong id='bold4915'
>char&gt;?</strong><em id='it4916'
>  char1 char2</em></td><td id="tc4918" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g4922" class="mark"></a><a name="char<=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4926" align="left" colspan="1"><strong id='bold4924'
>char&lt;=?</strong><em id='it4925'
>  char1 char2</em></td><td id="tc4927" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g4931" class="mark"></a><a name="char>=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4935" align="left" colspan="1"><strong id='bold4933'
>char&gt;=?</strong><em id='it4934'
>  char1 char2</em></td><td id="tc4936" align="right" colspan="1">procedure</td></tr>
</tbody></table>


These procedures impose a total ordering on the set of characters.  It
is guaranteed that under this ordering:<br/><br/><ul class="itemize" id='itemize4952'
><li>The upper case characters are in order.  For example, <samp id='samp4940'
>(char&lt;? #\A #\B)</samp> returns <tt id='tt4941'
>#t</tt>.
</li>
<li>The lower case characters are in order.  For example, <samp id='samp4943'
>(char&lt;? #\a #\b)</samp> returns <tt id='tt4944'
>#t</tt>.
</li>
<li>The digits are in order.  For example, <samp id='samp4946'
>(char&lt;? #\0 #\9)</samp> returns <tt id='tt4947'
>#t</tt>.
</li>
<li>Either all the digits precede all the upper case letters, or vice versa.
</li>
<li>Either all the digits precede all the lower case letters, or vice versa.<br/><br/></li>
</ul>
Some implementations may generalize these procedures to take more than
two arguments, as with the corresponding numerical predicates.<br/><br/></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g4957" class="mark"></a><a name="char-ci=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4961" align="left" colspan="1"><strong id='bold4959'
>char-ci=?</strong><em id='it4960'
>  char1 char2</em></td><td id="tc4962" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g4966" class="mark"></a><a name="char-ci<?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4970" align="left" colspan="1"><strong id='bold4968'
>char-ci&lt;?</strong><em id='it4969'
>  char1 char2</em></td><td id="tc4971" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g4975" class="mark"></a><a name="char-ci>?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4979" align="left" colspan="1"><strong id='bold4977'
>char-ci&gt;?</strong><em id='it4978'
>  char1 char2</em></td><td id="tc4980" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g4984" class="mark"></a><a name="char-ci<=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4988" align="left" colspan="1"><strong id='bold4986'
>char-ci&lt;=?</strong><em id='it4987'
>  char1 char2</em></td><td id="tc4989" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g4993" class="mark"></a><a name="char-ci>=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc4997" align="left" colspan="1"><strong id='bold4995'
>char-ci&gt;=?</strong><em id='it4996'
>  char1 char2</em></td><td id="tc4998" align="right" colspan="1">library procedure</td></tr>
</tbody></table>


These procedures are similar to <samp id='samp5001'
>char=?</samp> et cetera, but they treat
upper case and lower case letters as the same.  For example, <samp id='samp5002'
>(char-ci=? #\A #\a)</samp> returns <tt id='tt5003'
>#t</tt>.  Some
implementations may generalize these procedures to take more than two
arguments, as with the corresponding numerical predicates.<br/><br/></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5008" class="mark"></a><a name="char-alphabetic?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5012" align="left" colspan="1"><strong id='bold5010'
>char-alphabetic?</strong><em id='it5011'
>  char</em></td><td id="tc5013" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5017" class="mark"></a><a name="char-numeric?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5021" align="left" colspan="1"><strong id='bold5019'
>char-numeric?</strong><em id='it5020'
>  char</em></td><td id="tc5022" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5026" class="mark"></a><a name="char-whitespace?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5030" align="left" colspan="1"><strong id='bold5028'
>char-whitespace?</strong><em id='it5029'
>  char</em></td><td id="tc5031" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5035" class="mark"></a><a name="char-upper-case?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5039" align="left" colspan="1"><strong id='bold5037'
>char-upper-case?</strong><em id='it5038'
>  letter</em></td><td id="tc5040" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5044" class="mark"></a><a name="char-lower-case?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5048" align="left" colspan="1"><strong id='bold5046'
>char-lower-case?</strong><em id='it5047'
>  letter</em></td><td id="tc5049" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

These procedures return <tt id='tt5052'
>#t</tt> if their arguments are alphabetic,
numeric, whitespace, upper case, or lower case characters, respectively,
otherwise they return <tt id='tt5053'
>#f</tt>.  The following remarks, which are specific to
the ASCII character set, are intended only as a guide:  The alphabetic characters
are the 52 upper and lower case letters.  The numeric characters are the
ten decimal digits.  The whitespace characters are space, tab, line
feed, form feed, and carriage return.
</td></tr>
</tbody></table><br/>


<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5057" class="mark"></a><a name="char->integer" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5061" align="left" colspan="1"><strong id='bold5059'
>char-&gt;integer</strong><em id='it5060'
>  char</em></td><td id="tc5062" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g5066" class="mark"></a><a name="integer->char" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5072" align="left" colspan="1"><strong id='bold5068'
>integer-&gt;char</strong><em id='it5071'
>  <code id='code5070'
><em id='it5069'
>n</em></code></em></td><td id="tc5073" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Given a character, <samp id='samp5076'
>char-&gt;integer</samp> returns an exact integer
representation of the character.  Given an exact integer that is the image of
a character under <samp id='samp5077'
>char-&gt;integer</samp>, <samp id='samp5078'
>integer-&gt;char</samp>
returns that character.  These procedures implement order-preserving isomorphisms
between the set of characters under the <code id='code5079'
>char&lt;=?</code> ordering and some
<a name="g5081" class="mark"></a>subset of the integers under the <samp id='samp5083'
>&lt;=</samp> ordering.  That is, if<br/><br/><center id='center5095'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5093'
>(char&lt;=? <code id='code5086'
><em id='it5085'
>a</em></code> <code id='code5088'
><em id='it5087'
>b</em></code>) =&gt; #t  and  (&lt;= <code id='code5090'
><em id='it5089'
>x</em></code> <code id='code5092'
><em id='it5091'
>y</em></code>) =&gt; #t
</pre>
</td></tr>
</tbody></table></center>

 and <code id='code5097'
><em id='it5096'
>x</em></code> and <code id='code5099'
><em id='it5098'
>y</em></code> are in the domain of
<samp id='samp5100'
>integer-&gt;char</samp>, then<br/><br/><center id='center5113'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5111'
>(&lt;= (char-&gt;integer <code id='code5103'
><em id='it5102'
>a</em></code>)
    (char-&gt;integer <code id='code5105'
><em id='it5104'
>b</em></code>))                 =&gt;  #t<br/><br/>(char&lt;=? (integer-&gt;char <code id='code5108'
><em id='it5107'
>x</em></code>)
         (integer-&gt;char <code id='code5110'
><em id='it5109'
>y</em></code>))            =&gt;  #t
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5117" class="mark"></a><a name="char-upcase" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5121" align="left" colspan="1"><strong id='bold5119'
>char-upcase</strong><em id='it5120'
>  char</em></td><td id="tc5122" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5126" class="mark"></a><a name="char-downcase" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5130" align="left" colspan="1"><strong id='bold5128'
>char-downcase</strong><em id='it5129'
>  char</em></td><td id="tc5131" align="right" colspan="1">library procedure</td></tr>
</tbody></table>


These procedures return a character <code id='code5135'
><em id='it5134'
>char2</em></code> such that <samp id='samp5140'
>(char-ci=? <code id='code5137'
><em id='it5136'
>char</em></code> <code id='code5139'
><em id='it5138'
>char2</em></code>)</samp>.  In addition, if <code id='code5142'
><em id='it5141'
>char</em></code> is
alphabetic, then the result of <samp id='samp5143'
>char-upcase</samp> is upper case and the
result of <samp id='samp5144'
>char-downcase</samp> is lower case.<br/><br/></td></tr>
</tbody></table><br/>
</div>
<!-- Strings -->
<a name="Strings"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.3.5 Strings</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Strings" class="mark"></a>
Strings are sequences of characters.  
Strings are written as sequences of characters enclosed within doublequotes
(<samp id='samp5148'
>&quot;</samp>).  A doublequote can be written inside a string only by escaping
it with a backslash (\), as in
<center id='center5152'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5150'
><font color="red">&quot;The word \&quot;recursion\&quot; has many meanings.&quot;</font>
</pre>
</td></tr>
</tbody></table></center>

A backslash can be written inside a string only by escaping it with another
backslash.  Scheme does not specify the effect of a backslash within a
string that is not followed by a doublequote or backslash.<br/><br/>A string constant may continue from one line to the next, but
the exact contents of such a string are unspecified.

The <em id='emph5154'
>length</em> of a string is the number of characters that it
contains.  This number is an exact, non-negative integer that is fixed when the
string is created.  The &quot;valid indexes&quot; of a string are the
<a name="g5156" class="mark"></a>exact non-negative integers less than the length of the string.  The first
character of a string has index 0, the second has index 1, and so on.<br/><br/>In phrases such as ``the characters of <code id='code5160'
><em id='it5159'
>string</em></code> beginning with
index <code id='code5162'
><em id='it5161'
>start</em></code> and ending with index <code id='code5164'
><em id='it5163'
>end</em></code>,'' it is understood
that the index <code id='code5166'
><em id='it5165'
>start</em></code> is inclusive and the index <code id='code5168'
><em id='it5167'
>end</em></code> is
exclusive.  Thus if <code id='code5170'
><em id='it5169'
>start</em></code> and <code id='code5172'
><em id='it5171'
>end</em></code> are the same index, a null
substring is referred to, and if <code id='code5174'
><em id='it5173'
>start</em></code> is zero and <code id='code5176'
><em id='it5175'
>end</em></code> is
the length of <code id='code5178'
><em id='it5177'
>string</em></code>, then the entire string is referred to.<br/><br/>Some of the procedures that operate on strings ignore the
difference between upper and lower case.  The versions that ignore case
have <strong id='bold5181'
>``<samp id='samp5180'
>-ci</samp>''</strong> (for ``case insensitive'') embedded in their
names.<br/><br/><table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5184" class="mark"></a><a name="string?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5188" align="left" colspan="1"><strong id='bold5186'
>string?</strong><em id='it5187'
>  obj</em></td><td id="tc5189" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Returns <tt id='tt5192'
>#t</tt> if <code id='code5194'
><em id='it5193'
>obj</em></code> is a string, otherwise returns <tt id='tt5195'
>#f</tt>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5199" class="mark"></a><a name="make-string" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5205" align="left" colspan="1"><strong id='bold5201'
>make-string</strong><em id='it5204'
>  <code id='code5203'
><em id='it5202'
>k</em></code></em></td><td id="tc5206" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5213" align="left" colspan="1"><strong id='bold5209'
>make-string</strong><em id='it5212'
>  <code id='code5211'
><em id='it5210'
>k</em></code> char</em></td><td id="tc5214" align="right" colspan="1">procedure</td></tr>
</tbody></table>

<samp id='samp5217'
>Make-string</samp> returns a newly allocated string of
length <code id='code5219'
><em id='it5218'
>k</em></code>.  If <code id='code5221'
><em id='it5220'
>char</em></code> is given, then all elements of the string
are initialized to <code id='code5223'
><em id='it5222'
>char</em></code>, otherwise the contents of the
<code id='code5225'
><em id='it5224'
>string</em></code> are unspecified.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5229" class="mark"></a><a name="string" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5233" align="left" colspan="1"><strong id='bold5231'
>string</strong><em id='it5232'
>  char ...,</em></td><td id="tc5234" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
Returns a newly allocated string composed of the arguments.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5240" class="mark"></a><a name="string-length" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5244" align="left" colspan="1"><strong id='bold5242'
>string-length</strong><em id='it5243'
>  string</em></td><td id="tc5245" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns the number of characters in the given <code id='code5249'
><em id='it5248'
>string</em></code>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5253" class="mark"></a><a name="string-ref" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5259" align="left" colspan="1"><strong id='bold5255'
>string-ref</strong><em id='it5258'
>  string <code id='code5257'
><em id='it5256'
>k</em></code></em></td><td id="tc5260" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<code id='code5264'
><em id='it5263'
>k</em></code> must be a valid index of <code id='code5266'
><em id='it5265'
>string</em></code>.
<samp id='samp5267'
>String-ref</samp> returns character <code id='code5269'
><em id='it5268'
>k</em></code> of <code id='code5271'
><em id='it5270'
>string</em></code> using zero-origin indexing.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5275" class="mark"></a><a name="string-set!" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5279" align="left" colspan="1"><strong id='bold5277'
>string-set!</strong><em id='it5278'
>  string k char</em></td><td id="tc5280" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<code id='code5284'
><em id='it5283'
>k</em></code> must be a valid index of <code id='code5286'
><em id='it5285'
>string</em></code>
.
<samp id='samp5287'
>String-set!</samp> stores <code id='code5289'
><em id='it5288'
>char</em></code> in element <code id='code5291'
><em id='it5290'
>k</em></code> of <code id='code5293'
><em id='it5292'
>string</em></code>
and returns an unspecified value.  

<center id='center5302'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5300'
>(<font color="#6959cf"><strong id='bold7946'
>define</strong></font> (<font color="#6959cf"><strong id='bold7948'
>f</strong></font>) (make-string 3 #\*))
(<font color="#6959cf"><strong id='bold7950'
>define</strong></font> (<font color="#6959cf"><strong id='bold7952'
>g</strong></font>) <font color="red">&quot;***&quot;</font>)
(string-set! (f) 0 #\?)                =&gt;  <em id='emph5294'
>unspecified</em>
(string-set! (g) 0 #\?)                =&gt;  <em id='emph5295'
>error</em>
(string-set! (symbol-&gt;string 'immutable)
             0
             #\?)                      =&gt;  <em id='emph5296'
>error</em>
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5306" class="mark"></a><a name="string=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5310" align="left" colspan="1"><strong id='bold5308'
>string=?</strong><em id='it5309'
>  string1 string2</em></td><td id="tc5311" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5315" class="mark"></a><a name="string-ci=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5319" align="left" colspan="1"><strong id='bold5317'
>string-ci=?</strong><em id='it5318'
>  string1 string2</em></td><td id="tc5320" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

Returns <tt id='tt5323'
>#t</tt> if the two strings are the same length and contain the same
characters in the same positions, otherwise returns <tt id='tt5324'
>#f</tt>.
<samp id='samp5325'
>String-ci=?</samp> treats
upper and lower case letters as though they were the same character, but
<samp id='samp5326'
>string=?</samp> treats upper and lower case as distinct characters.<br/><br/></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5331" class="mark"></a><a name="string<?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5335" align="left" colspan="1"><strong id='bold5333'
>string&lt;?</strong><em id='it5334'
>  string1 string2</em></td><td id="tc5336" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5340" class="mark"></a><a name="string>?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5344" align="left" colspan="1"><strong id='bold5342'
>string&gt;?</strong><em id='it5343'
>  string1 string2</em></td><td id="tc5345" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5349" class="mark"></a><a name="string<=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5353" align="left" colspan="1"><strong id='bold5351'
>string&lt;=?</strong><em id='it5352'
>  string1 string2</em></td><td id="tc5354" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5358" class="mark"></a><a name="string>=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5362" align="left" colspan="1"><strong id='bold5360'
>string&gt;=?</strong><em id='it5361'
>  string1 string2</em></td><td id="tc5363" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5367" class="mark"></a><a name="string-ci<?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5371" align="left" colspan="1"><strong id='bold5369'
>string-ci&lt;?</strong><em id='it5370'
>  string1 string2</em></td><td id="tc5372" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5376" class="mark"></a><a name="string-ci>?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5380" align="left" colspan="1"><strong id='bold5378'
>string-ci&gt;?</strong><em id='it5379'
>  string1 string2</em></td><td id="tc5381" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5385" class="mark"></a><a name="string-ci<=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5389" align="left" colspan="1"><strong id='bold5387'
>string-ci&lt;=?</strong><em id='it5388'
>  string1 string2</em></td><td id="tc5390" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5394" class="mark"></a><a name="string-ci>=?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5398" align="left" colspan="1"><strong id='bold5396'
>string-ci&gt;=?</strong><em id='it5397'
>  string1 string2</em></td><td id="tc5399" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

These procedures are the lexicographic extensions to strings of the
corresponding orderings on characters.  For example, <samp id='samp5402'
>string&lt;?</samp> is
the lexicographic ordering on strings induced by the ordering
<samp id='samp5403'
>char&lt;?</samp> on characters.  If two strings differ in length but
are the same up to the length of the shorter string, the shorter string
is considered to be lexicographically less than the longer string.<br/><br/>Implementations may generalize these and the <samp id='samp5405'
>string=?</samp> and
<samp id='samp5406'
>string-ci=?</samp> procedures to take more than two arguments, as with
the corresponding numerical predicates.<br/><br/></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5411" class="mark"></a><a name="substring" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5415" align="left" colspan="1"><strong id='bold5413'
>substring</strong><em id='it5414'
>  string start end</em></td><td id="tc5416" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

<code id='code5420'
><em id='it5419'
>String</em></code> must be a string, and <code id='code5422'
><em id='it5421'
>start</em></code> and <code id='code5424'
><em id='it5423'
>end</em></code>
must be exact integers satisfying<br/><br/><center id='center5434'
>0 &lt;= <code id='code5427'
><em id='it5426'
>start</em></code> &lt;= <code id='code5429'
><em id='it5428'
>end</em></code> &lt;= <strong id='bold5433'
><tt id='tt5432'
>(string-length <code id='code5431'
><em id='it5430'
>string</em></code>).</tt></strong></center>

<samp id='samp5435'
>Substring</samp> returns a newly allocated string formed from the characters of
<code id='code5437'
><em id='it5436'
>string</em></code> beginning with index <code id='code5439'
><em id='it5438'
>start</em></code> (inclusive) and ending with index
<code id='code5441'
><em id='it5440'
>end</em></code> (exclusive).
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5445" class="mark"></a><a name="string-append" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5451" align="left" colspan="1"><strong id='bold5447'
>string-append</strong><em id='it5450'
>  <code id='code5449'
><em id='it5448'
>string</em></code> ...,</em></td><td id="tc5452" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
Returns a newly allocated string whose characters form the concatenation of the
given strings.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5458" class="mark"></a><a name="string->list" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5462" align="left" colspan="1"><strong id='bold5460'
>string-&gt;list</strong><em id='it5461'
>  string</em></td><td id="tc5463" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5467" class="mark"></a><a name="list->string" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5471" align="left" colspan="1"><strong id='bold5469'
>list-&gt;string</strong><em id='it5470'
>  list</em></td><td id="tc5472" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

<samp id='samp5475'
>String-&gt;list</samp> returns a newly allocated list of the
characters that make up the given string.  <samp id='samp5476'
>List-&gt;string</samp>
returns a newly allocated string formed from the characters in the list
<code id='code5478'
><em id='it5477'
>list</em></code>, which must be a list of characters. <samp id='samp5479'
>String-&gt;list</samp>
and <samp id='samp5480'
>list-&gt;string</samp> are
inverses so far as <samp id='samp5481'
>equal?</samp> is concerned.  
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5485" class="mark"></a><a name="string-copy" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5489" align="left" colspan="1"><strong id='bold5487'
>string-copy</strong><em id='it5488'
>  string</em></td><td id="tc5490" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
Returns a newly allocated copy of the given <code id='code5494'
><em id='it5493'
>string</em></code>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5498" class="mark"></a><a name="string-fill!" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5502" align="left" colspan="1"><strong id='bold5500'
>string-fill!</strong><em id='it5501'
>  string char</em></td><td id="tc5503" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
Stores <code id='code5507'
><em id='it5506'
>char</em></code> in every element of the given <code id='code5509'
><em id='it5508'
>string</em></code> and returns an
unspecified value.  
</td></tr>
</tbody></table><br/>
</div>
<!-- Vectors -->
<a name="Vectors"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.3.6 Vectors</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Vectors" class="mark"></a>
Vectors are heterogenous structures whose elements are indexed
by integers.  A vector typically occupies less space than a list
of the same length, and the average time required to access a randomly
chosen element is typically less for the vector than for the list.<br/><br/>The <em id='emph5513'
>length</em> of a vector is the number of elements that it
contains.  This number is a non-negative integer that is fixed when the
vector is created.  The <em id='emph5514'
>valid indexes</em> of a
<a name="g5516" class="mark"></a>vector are the exact non-negative integers less than the length of the
vector.  The first element in a vector is indexed by zero, and the last
element is indexed by one less than the length of the vector.<br/><br/>Vectors are written using the notation <tt id='tt5521'
>#(<code id='code5520'
><em id='it5519'
>obj</em></code> ...,)</tt>.
For example, a vector of length 3 containing the number zero in element
0, the list <samp id='samp5522'
>(2 2 2 2)</samp> in element 1, and the string <samp id='samp5523'
>&quot;Anna&quot;</samp> in
element 2 can be written as following:<br/><br/><br/><center id='center5528'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5526'
>#(0 (2 2 2 2) <font color="red">&quot;Anna&quot;</font>)
</pre>
</td></tr>
</tbody></table></center>

Note that this is the external representation of a vector, not an
expression evaluating to a vector.  Like list constants, vector
constants must be quoted:<br/><br/><center id='center5534'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5532'
>'#(0 (2 2 2 2) <font color="red">&quot;Anna&quot;</font>)  
          =&gt;  #(0 (2 2 2 2) <font color="red">&quot;Anna&quot;</font>)
</pre>
</td></tr>
</tbody></table></center>


<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5536" class="mark"></a><a name="vector?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5540" align="left" colspan="1"><strong id='bold5538'
>vector?</strong><em id='it5539'
>  obj</em></td><td id="tc5541" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns <tt id='tt5544'
>#t</tt> if <code id='code5546'
><em id='it5545'
>obj</em></code> is a vector, otherwise returns <tt id='tt5547'
>#f</tt>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5552" align="left" colspan="1"><strong id='bold5550'
>make-vector</strong><em id='it5551'
>  k</em></td><td id="tc5553" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5558" align="left" colspan="1"><strong id='bold5556'
>make-vector</strong><em id='it5557'
>  k fill</em></td><td id="tc5559" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Returns a newly allocated vector of <code id='code5563'
><em id='it5562'
>k</em></code> elements.  If a second
argument is given, then each element is initialized to <code id='code5565'
><em id='it5564'
>fill</em></code>.
Otherwise the initial contents of each element is unspecified.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5569" class="mark"></a><a name="vector" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5573" align="left" colspan="1"><strong id='bold5571'
>vector</strong><em id='it5572'
>  obj ...,</em></td><td id="tc5574" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
Returns a newly allocated vector whose elements contain the given
arguments.  Analogous to <samp id='samp5577'
>list</samp>.<br/><br/><center id='center5581'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5579'
>(vector 'a 'b 'c)                      =&gt;  #(a b c)
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5585" class="mark"></a><a name="vector-length" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5589" align="left" colspan="1"><strong id='bold5587'
>vector-length</strong><em id='it5588'
>  vector</em></td><td id="tc5590" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns the number of elements in <code id='code5594'
><em id='it5593'
>vector</em></code> as an exact integer.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5599" align="left" colspan="1"><strong id='bold5597'
>vector-ref</strong><em id='it5598'
>  vector k</em></td><td id="tc5600" align="right" colspan="1">procedure</td></tr>
</tbody></table>

<code id='code5604'
><em id='it5603'
>k</em></code> must be a valid index of <code id='code5606'
><em id='it5605'
>vector</em></code>.
<samp id='samp5607'
>Vector-ref</samp> returns the contents of element <code id='code5609'
><em id='it5608'
>k</em></code> of
<code id='code5611'
><em id='it5610'
>vector</em></code>.<br/><br/><center id='center5617'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5615'
>(vector-ref '#(1 1 2 3 5 8 13 21)
            5)  
          =&gt;  8
(vector-ref '#(1 1 2 3 5 8 13 21)
            (<strong id='bold7958'
>let</strong> ((i (round (* 2 (acos -1)))))
              (<strong id='bold7959'
>if</strong> (inexact? i)
                  (inexact-&gt;exact i)
                  i))) 
          =&gt; 13
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5621" class="mark"></a><a name="vector-set!" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5625" align="left" colspan="1"><strong id='bold5623'
>vector-set!</strong><em id='it5624'
>  vector k obj</em></td><td id="tc5626" align="right" colspan="1">procedure</td></tr>
</tbody></table>

<code id='code5630'
><em id='it5629'
>k</em></code> must be a valid index of <code id='code5632'
><em id='it5631'
>vector</em></code>.
<samp id='samp5633'
>Vector-set!</samp> stores <code id='code5635'
><em id='it5634'
>obj</em></code> in element <code id='code5637'
><em id='it5636'
>k</em></code> of <code id='code5639'
><em id='it5638'
>vector</em></code>.
The value returned by <samp id='samp5640'
>vector-set!</samp> is unspecified.  

<center id='center5653'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5651'
>(<strong id='bold7960'
>let</strong> ((vec (vector 0 '(2 2 2 2) <font color="red">&quot;Anna&quot;</font>)))
  (vector-set! vec 1 '(<font color="red">&quot;Sue&quot;</font> <font color="red">&quot;Sue&quot;</font>))
  vec)      
          =&gt;  #(0 (<font color="red">&quot;Sue&quot;</font> <font color="red">&quot;Sue&quot;</font>) <font color="red">&quot;Anna&quot;</font>)<br/><br/>(vector-set! '#(0 1 2) 1 <font color="red">&quot;doe&quot;</font>)  
          =&gt;  <em id='emph5642'
>error</em>  ; constant vector
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5657" class="mark"></a><a name="vector->list" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5661" align="left" colspan="1"><strong id='bold5659'
>vector-&gt;list</strong><em id='it5660'
>  vector</em></td><td id="tc5662" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g5666" class="mark"></a><a name="list->vector" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5670" align="left" colspan="1"><strong id='bold5668'
>list-&gt;vector</strong><em id='it5669'
>  list</em></td><td id="tc5671" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

<samp id='samp5674'
>Vector-&gt;list</samp> returns a newly allocated list of the objects contained
in the elements of <code id='code5676'
><em id='it5675'
>vector</em></code>.  <samp id='samp5677'
>List-&gt;vector</samp> returns a newly
created vector initialized to the elements of the list <code id='code5679'
><em id='it5678'
>list</em></code>.<br/><br/><center id='center5683'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5681'
>(vector-&gt;list '#(dah dah didah))  
          =&gt;  (dah dah didah)
(list-&gt;vector '(dididit dah))   
          =&gt;  #(dididit dah)
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5687" class="mark"></a><a name="vector-fill!" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5691" align="left" colspan="1"><strong id='bold5689'
>vector-fill!</strong><em id='it5690'
>  vector fill</em></td><td id="tc5692" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

Stores <code id='code5696'
><em id='it5695'
>fill</em></code> in every element of <code id='code5698'
><em id='it5697'
>vector</em></code>.
The value returned by <samp id='samp5699'
>vector-fill!</samp> is unspecified.  
</td></tr>
</tbody></table><br/>
</div>
</div><br>
<!-- Control features -->
<a name="Control-features"></a>
<div class="section-atitle"><table width="100%"><tr><td bgcolor="#dedeff"><h3><font color="black">6.4 Control features</font>
</h3></td></tr></table>
</div><div class="section">
<a name="Control-features" class="mark"></a>

This chapter describes various primitive procedures which control the
flow of program execution in special ways.
The <samp id='samp5702'
>procedure?</samp> predicate is also described here.<br/><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5705" class="mark"></a><a name="procedure?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5709" align="left" colspan="1"><strong id='bold5707'
>procedure?</strong><em id='it5708'
>  obj</em></td><td id="tc5710" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns <tt id='tt5713'
>#t</tt> if <code id='code5715'
><em id='it5714'
>obj</em></code> is a procedure, otherwise returns <tt id='tt5716'
>#f</tt>.<br/><br/><center id='center5722'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5720'
>(procedure? car)                       =&gt;  #t
(procedure? 'car)                      =&gt;  #f
(procedure? (<strong id='bold7968'
>lambda</strong> (x) (* x x)))   
                                       =&gt;  #t
(procedure? '(<strong id='bold7969'
>lambda</strong> (x) (* x x)))  
                                       =&gt;  #f
(call-with-current-continuation procedure?)
                                       =&gt;  #t
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5726" class="mark"></a><a name="apply" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5730" align="left" colspan="1"><strong id='bold5728'
>apply</strong><em id='it5729'
>  proc arg1 ... args</em></td><td id="tc5731" align="right" colspan="1">procedure</td></tr>
</tbody></table>

<code id='code5735'
><em id='it5734'
>Proc</em></code> must be a procedure and <code id='code5737'
><em id='it5736'
>args</em></code> must be a list.
Calls <code id='code5739'
><em id='it5738'
>proc</em></code> with the elements of the list
<samp id='samp5744'
>(append (list <code id='code5741'
><em id='it5740'
>arg1</em></code> ...,) <code id='code5743'
><em id='it5742'
>args</em></code>)</samp> as the actual
arguments.<br/><br/><center id='center5755'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5753'
>(<strong id='bold7970'
>apply</strong> + (list 3 4))                   =&gt;  7<br/><br/>(<font color="#6959cf"><strong id='bold7971'
>define</strong></font> <font color="#6959cf"><strong id='bold7973'
>compose</strong></font>
  (<strong id='bold7975'
>lambda</strong> (f g)
    (<strong id='bold7976'
>lambda</strong> args
      (f (<strong id='bold7977'
>apply</strong> g args)))))<br/><br/>((compose sqrt *) 12 75)               =&gt;  30
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5759" class="mark"></a><a name="map" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5763" align="left" colspan="1"><strong id='bold5761'
>map</strong><em id='it5762'
>  proc list1 list2 ...,</em></td><td id="tc5764" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

The <code id='code5768'
><em id='it5767'
>list</em></code>s must be lists, and <code id='code5770'
><em id='it5769'
>proc</em></code> must be a
procedure taking as many arguments as there are <em id='it5771'
>list</em>s
and returning a single value.  If more
than one <code id='code5773'
><em id='it5772'
>list</em></code> is given, then they must all be the same length.
<samp id='samp5774'
>Map</samp> applies <code id='code5776'
><em id='it5775'
>proc</em></code> element-wise to the elements of the
<code id='code5778'
><em id='it5777'
>list</em></code>s and returns a list of the results, in order.
The dynamic order in which <code id='code5780'
><em id='it5779'
>proc</em></code> is applied to the elements of the
<code id='code5782'
><em id='it5781'
>list</em></code>s is unspecified.<br/><br/><center id='center5795'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5793'
>(map cadr '((a b) (d e) (g h)))   
          =&gt;  (b e h)<br/><br/>(map (<strong id='bold7978'
>lambda</strong> (n) (expt n n))
     '(1 2 3 4 5))                
          =&gt;  (1 4 27 256 3125)<br/><br/>(map + '(1 2 3) '(4 5 6))              =&gt;  (5 7 9)<br/><br/>(<strong id='bold7979'
>let</strong> ((count 0))
  (map (<strong id='bold7980'
>lambda</strong> (ignored)
         (<strong id='bold7981'
>set!</strong> count (+ count 1))
         count)
       '(a b)))                        =&gt;  (1 2) <code id='code5788'
><em id='it5787'
>or</em></code> (2 1)
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5799" class="mark"></a><a name="for-each" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5803" align="left" colspan="1"><strong id='bold5801'
>for-each</strong><em id='it5802'
>  proc list1 list2 ...,</em></td><td id="tc5804" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

The arguments to <samp id='samp5807'
>for-each</samp> are like the arguments to <samp id='samp5808'
>map</samp>, but
<samp id='samp5809'
>for-each</samp> calls <code id='code5811'
><em id='it5810'
>proc</em></code> for its side effects rather than for its
values.  Unlike <samp id='samp5812'
>map</samp>, <samp id='samp5813'
>for-each</samp> is guaranteed to call <code id='code5815'
><em id='it5814'
>proc</em></code> on
the elements of the <code id='code5817'
><em id='it5816'
>list</em></code>s in order from the first element(s) to the
last, and the value returned by <samp id='samp5818'
>for-each</samp> is unspecified.<br/><br/><center id='center5824'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5822'
>(<strong id='bold7982'
>let</strong> ((v (make-vector 5)))
  (for-each (<strong id='bold7983'
>lambda</strong> (i)
              (vector-set! v i (* i i)))
            '(0 1 2 3 4))
  v)                                   =&gt;  #(0 1 4 9 16)
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5828" class="mark"></a><a name="force" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5832" align="left" colspan="1"><strong id='bold5830'
>force</strong><em id='it5831'
>  promise</em></td><td id="tc5833" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

Forces the value of <code id='code5837'
><em id='it5836'
>promise</em></code> (see <code id='code5838'
>delay</code>,
<a name="g5840" class="mark"></a>section <a href="r5rs-7.html#Delayed-evaluation" class="inbound">Delayed evaluation</a>).  If no value has been computed for
<a name="g5843" class="mark"></a>the promise, then a value is computed and returned.  The value of the
promise is cached (or ``memoized'') so that if it is forced a second
time, the previously computed value is returned.
<br/><br/><center id='center5857'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5855'
>(force (delay (+ 1 2)))                =&gt;  3
(<strong id='bold7984'
>let</strong> ((p (delay (+ 1 2))))
  (list (force p) (force p)))  
                                       =&gt;  (3 3)<br/><br/>(<font color="#6959cf"><strong id='bold7985'
>define</strong></font> <font color="#6959cf"><strong id='bold7987'
>a-stream</strong></font>
  (<strong id='bold7989'
>letrec</strong> ((next
            (<strong id='bold7990'
>lambda</strong> (n)
              (cons n (delay (next (+ n 1)))))))
    (next 0)))
(<font color="#6959cf"><strong id='bold7991'
>define</strong></font> <font color="#6959cf"><strong id='bold7993'
>head</strong></font> car)
(<font color="#6959cf"><strong id='bold7995'
>define</strong></font> <font color="#6959cf"><strong id='bold7997'
>tail</strong></font>
  (<strong id='bold7999'
>lambda</strong> (stream) (force (cdr stream))))<br/><br/>(head (tail (tail a-stream)))  
                                       =&gt;  2
</pre>
</td></tr>
</tbody></table></center>

<samp id='samp5858'
>Force</samp> and <samp id='samp5859'
>delay</samp> are mainly intended for programs written in
functional style.  The following examples should not be considered to
illustrate good programming style, but they illustrate the property that
only one value is computed for a promise, no matter how many times it is
forced.

<center id='center5870'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5868'
>(<font color="#6959cf"><strong id='bold8000'
>define</strong></font> <font color="#6959cf"><strong id='bold8002'
>count</strong></font> 0)
(<font color="#6959cf"><strong id='bold8004'
>define</strong></font> <font color="#6959cf"><strong id='bold8006'
>p</strong></font>
  (delay (<strong id='bold8008'
>begin</strong> (<strong id='bold8009'
>set!</strong> count (+ count 1))
                (<strong id='bold8010'
>if</strong> (&gt; count x)
                    count
                    (force p)))))
(<font color="#6959cf"><strong id='bold8011'
>define</strong></font> <font color="#6959cf"><strong id='bold8013'
>x</strong></font> 5)
p                                      =&gt;  a promise
(force p)                              =&gt;  6
p                                      =&gt;  a promise, still
(<strong id='bold8015'
>begin</strong> (<strong id='bold8016'
>set!</strong> x 10)
       (force p))                      =&gt;  6
</pre>
</td></tr>
</tbody></table></center>

Here is a possible implementation of <samp id='samp5871'
>delay</samp> and <samp id='samp5872'
>force</samp>.
Promises are implemented here as procedures of no arguments,
and <samp id='samp5873'
>force</samp> simply calls its argument:<br/><br/><center id='center5879'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5877'
>(<font color="#6959cf"><strong id='bold8017'
>define</strong></font> <font color="#6959cf"><strong id='bold8019'
>force</strong></font>
  (<strong id='bold8021'
>lambda</strong> (object)
    (object)))
</pre>
</td></tr>
</tbody></table></center>

We define the expression<br/><br/><center id='center5883'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ccccff"><pre class="prog" id='prog5881'
>(delay &lt;expression&gt;)
</pre>
</td></tr>
</tbody></table></center>

to have the same meaning as the procedure call<br/><br/><center id='center5887'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ccccff"><pre class="prog" id='prog5885'
>(make-promise (lambda () &lt;expression&gt;))
</pre>
</td></tr>
</tbody></table></center>

as follows<br/><br/><center id='center5894'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5892'
>(<font color="#6959cf"><strong id='bold8022'
>define-syntax</strong></font> <font color="#6959cf"><strong id='bold8024'
>delay</strong></font>
  (<strong id='bold8026'
>syntax-rules</strong> ()
    ((delay expression)
     (make-promise (<strong id='bold8027'
>lambda</strong> () expression))))),
</pre>
</td></tr>
</tbody></table></center>

where <samp id='samp5895'
>make-promise</samp> is defined as follows:<br/><br/>
<center id='center5909'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5907'
>(<font color="#6959cf"><strong id='bold8028'
>define</strong></font> <font color="#6959cf"><strong id='bold8030'
>make-promise</strong></font>
  (<strong id='bold8032'
>lambda</strong> (proc)
    (<strong id='bold8033'
>let</strong> ((result-ready? #f)
          (result #f))
      (<strong id='bold8034'
>lambda</strong> ()
        (<strong id='bold8035'
>if</strong> result-ready?
            result
            (<strong id='bold8036'
>let</strong> ((x (proc)))
              (<strong id='bold8037'
>if</strong> result-ready?
                  result
                  (<strong id='bold8038'
>begin</strong> (<strong id='bold8039'
>set!</strong> result-ready? #t)
                         (<strong id='bold8040'
>set!</strong> result x)
                         result))))))))
</pre>
</td></tr>
</tbody></table></center>

<br/><em id='emph5911'
>Rationale:</em>
A promise may refer to its own value, as in the last example above.
Forcing such a promise may cause the promise to be forced a second time
before the value of the first force has been computed.
This complicates the definition of <samp id='samp5912'
>make-promise</samp>.<br/><br/>Various extensions to this semantics of <samp id='samp5914'
>delay</samp> and <samp id='samp5915'
>force</samp>
are supported in some implementations:<br/><br/><ul class="itemize" id='itemize5936'
><li>Calling <samp id='samp5917'
>force</samp> on an object that is not a promise may simply
return the object.<br/><br/></li>
<li>It may be the case that there is no means by which a promise can be
operationally distinguished from its forced value.  That is, expressions
like the following may evaluate to either <tt id='tt5920'
>#t</tt> or to <tt id='tt5921'
>#f</tt>,
depending on the implementation:<br/><br/><center id='center5927'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5925'
>(eqv? (delay 1) 1)                =&gt;  <em id='emph5923'
>unspecified</em>
(pair? (delay (cons 1 2)))        =&gt;  <em id='emph5924'
>unspecified</em>
</pre>
</td></tr>
</tbody></table></center>

</li>
<li>Some implementations may implement ``implicit forcing,'' where
the value of a promise is forced by primitive procedures like <samp id='samp5929'
>cdr</samp>
and <samp id='samp5930'
>+</samp>:<br/><br/><center id='center5934'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5932'
>(+ (delay (* 3 7)) 13)            =&gt;  34
</pre>
</td></tr>
</tbody></table></center>
</li>
</ul></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g5940" class="mark"></a><a name="call-with-current-continuation" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc5944" align="left" colspan="1"><strong id='bold5942'
>call-with-current-continuation</strong><em id='it5943'
>  proc</em></td><td id="tc5945" align="right" colspan="1">procedure</td></tr>
</tbody></table>

 <code id='code5949'
><em id='it5948'
>Proc</em></code> must be a procedure of one
argument. The procedure <samp id='samp5950'
>call-with-current-continuation</samp> packages
up the current continuation (see the rationale below) as an ``escape
procedure'' and passes it as an argument to
<a name="g5952" class="mark"></a><code id='code5955'
><em id='it5954'
>proc</em></code>.  The escape procedure is a Scheme procedure that, if it is
later called, will abandon whatever continuation is in effect at that later
time and will instead use the continuation that was in effect
when the escape procedure was created.  Calling the escape procedure
may cause the invocation of <code id='code5957'
><em id='it5956'
>before</em></code> and <code id='code5959'
><em id='it5958'
>after</em></code> thunks installed using
<code id='code5960'
>dynamic-wind</code>.
<a name="g5962" class="mark"></a>
The escape procedure accepts the same number of arguments as the
continuation to the original call to <tt id='tt5964'
>call-with-current-continuation</tt>.
Except for continuations created by the <samp id='samp5965'
>call-with-values</samp>
procedure, all continuations take exactly one value.  The effect of
passing no value or more than one value to continuations that were not
created by <tt id='tt5966'
>call-with-values</tt> is unspecified.<br/><br/>The escape procedure that is passed to <code id='code5969'
><em id='it5968'
>proc</em></code> has
unlimited extent just like any other procedure in Scheme.  It may be stored
in variables or data structures and may be called as many times as desired.<br/><br/>The following examples show only the most common ways in which
<samp id='samp5971'
>call-with-current-continuation</samp> is used.  If all real uses were as
simple as these examples, there would be no need for a procedure with
the power of <samp id='samp5972'
>call-with-current-continuation</samp>.<br/><br/><center id='center5988'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog5986'
>(call-with-current-continuation
  (<strong id='bold8041'
>lambda</strong> (exit)
    (for-each (<strong id='bold8042'
>lambda</strong> (x)
                (<strong id='bold8043'
>if</strong> (negative? x)
                    (exit x)))
              '(54 0 37 -3 245 19))
    #t))                               =&gt;  -3<br/><br/>(<font color="#6959cf"><strong id='bold8044'
>define</strong></font> <font color="#6959cf"><strong id='bold8046'
>list-length</strong></font>
  (<strong id='bold8048'
>lambda</strong> (obj)
    (call-with-current-continuation
      (<strong id='bold8049'
>lambda</strong> (return)
        (<strong id='bold8050'
>letrec</strong> ((r
                  (<strong id='bold8051'
>lambda</strong> (obj)
                    (<strong id='bold8052'
>cond</strong> ((null? obj) 0)
                          ((pair? obj)
                           (+ (r (cdr obj)) 1))
                          (else (return #f))))))
          (r obj))))))<br/><br/>(list-length '(1 2 3 4))               =&gt;  4<br/><br/>(list-length '(a b . c))               =&gt;  #f
</pre>
</td></tr>
</tbody></table></center>

<br/><em id='emph5990'
>Rationale:</em><br/><br/>A common use of <samp id='samp5992'
>call-with-current-continuation</samp> is for
structured, non-local exits from loops or procedure bodies, but in fact
<samp id='samp5993'
>call-with-current-continuation</samp> is extremely useful for implementing a
wide variety of advanced control structures.<br/><br/>Whenever a Scheme expression is evaluated there is a
&quot;continuation&quot; wanting the result of the expression.  The continuation
<a name="g5996" class="mark"></a>represents an entire (default) future for the computation.  If the expression is
evaluated at top level, for example, then the continuation might take the
result, print it on the screen, prompt for the next input, evaluate it, and
so on forever.  Most of the time the continuation includes actions
specified by user code, as in a continuation that will take the result,
multiply it by the value stored in a local variable, add seven, and give
the answer to the top level continuation to be printed.  Normally these
ubiquitous continuations are hidden behind the scenes and programmers do not
think much about them.  On rare occasions, however, a programmer may
need to deal with continuations explicitly.
<samp id='samp5998'
>Call-with-current-continuation</samp> allows Scheme programmers to do
that by creating a procedure that acts just like the current
continuation.<br/><br/>Most programming languages incorporate one or more special-purpose
escape constructs with names like <tt id='tt6000'
>exit</tt>, <strong id='bold6002'
><samp id='samp6001'
>return</samp></strong>, or
even <tt id='tt6003'
>goto</tt>.  In 1965, however, Peter Landin [Landin65]
invented a general purpose escape operator called the J-operator.  John
Reynolds [Reynolds72] described a simpler but equally powerful
construct in 1972.  The <samp id='samp6004'
>catch</samp> special form described by Sussman
and Steele in the 1975 report on Scheme is exactly the same as
Reynolds's construct, though its name came from a less general construct
in MacLisp.  Several Scheme implementors noticed that the full power of the
<code id='code6005'
>catch</code> construct could be provided by a procedure instead of by a
<a name="g6007" class="mark"></a>special syntactic construct, and the name
<samp id='samp6009'
>call-with-current-continuation</samp> was coined in 1982.  This name is
descriptive, but opinions differ on the merits of such a long name, and
some people use the name <code id='code6010'
>call/cc</code> instead.
<a name="g6012" class="mark"></a></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6017" class="mark"></a><a name="values" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6021" align="left" colspan="1"><strong id='bold6019'
>values</strong><em id='it6020'
>  obj ...</em></td><td id="tc6022" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Delivers all of its arguments to its continuation.
Except for continuations created by the <code id='code6025'
>call-with-values</code>
<a name="g6027" class="mark"></a>procedure, all continuations take exactly one value.
<tt id='tt6029'
>Values</tt> might be defined as follows:<br/><br/><center id='center6036'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog6034'
>(<font color="#6959cf"><strong id='bold8053'
>define</strong></font> (<font color="#6959cf"><strong id='bold8055'
>values</strong></font> . things)
  (call-with-current-continuation 
    (<strong id='bold8057'
>lambda</strong> (cont) (<strong id='bold8058'
>apply</strong> cont things))))
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6040" class="mark"></a><a name="call-with-values" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6044" align="left" colspan="1"><strong id='bold6042'
>call-with-values</strong><em id='it6043'
>  producer consumer</em></td><td id="tc6045" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Calls its <code id='code6049'
><em id='it6048'
>producer</em></code> argument with no values and
a continuation that, when passed some values, calls the
<code id='code6051'
><em id='it6050'
>consumer</em></code> procedure with those values as arguments.
The continuation for the call to <code id='code6053'
><em id='it6052'
>consumer</em></code> is the
continuation of the call to <tt id='tt6054'
>call-with-values</tt>.<br/><br/><br/><center id='center6061'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog6059'
>(call-with-values (<strong id='bold8059'
>lambda</strong> () (values 4 5))
                  (<strong id='bold8060'
>lambda</strong> (a b) b))
                                                   =&gt;  5<br/><br/>(call-with-values * -)                             =&gt;  -1
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6065" class="mark"></a><a name="dynamic-wind" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6069" align="left" colspan="1"><strong id='bold6067'
>dynamic-wind</strong><em id='it6068'
>  before thunk after</em></td><td id="tc6070" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Calls <code id='code6074'
><em id='it6073'
>thunk</em></code> without arguments, returning the result(s) of this call.
<code id='code6076'
><em id='it6075'
>Before</em></code> and <code id='code6078'
><em id='it6077'
>after</em></code> are called, also without arguments, as required
by the following rules (note that in the absence of calls to continuations
captured using <code id='code6079'
>call-with-current-continuation</code> the three arguments are
<a name="g6081" class="mark"></a>called once each, in order).  <code id='code6084'
><em id='it6083'
>Before</em></code> is called whenever execution
enters the dynamic extent of the call to <code id='code6086'
><em id='it6085'
>thunk</em></code> and <code id='code6088'
><em id='it6087'
>after</em></code> is called
whenever it exits that dynamic extent.  The dynamic extent of a procedure
call is the period between when the call is initiated and when it
returns.  In Scheme, because of <samp id='samp6089'
>call-with-current-continuation</samp>, the
dynamic extent of a call may not be a single, connected time period.
It is defined as follows:<br/><br/><ul class="itemize" id='itemize6100'
><li>The dynamic extent is entered when execution of the body of the
called procedure begins.<br/><br/></li>
<li>The dynamic extent is also entered when execution is not within
the dynamic extent and a continuation is invoked that was captured
(using <samp id='samp6093'
>call-with-current-continuation</samp>) during the dynamic extent.<br/><br/></li>
<li>It is exited when the called procedure returns.<br/><br/></li>
<li>It is also exited when execution is within the dynamic extent and
a continuation is invoked that was captured while not within the
dynamic extent.<br/><br/></li>
</ul>
If a second call to <samp id='samp6101'
>dynamic-wind</samp> occurs within the dynamic extent of the
call to <code id='code6103'
><em id='it6102'
>thunk</em></code> and then a continuation is invoked in such a way that the
<code id='code6105'
><em id='it6104'
>after</em></code>s from these two invocations of <samp id='samp6106'
>dynamic-wind</samp> are both to be
called, then the <code id='code6108'
><em id='it6107'
>after</em></code> associated with the second (inner) call to
<samp id='samp6109'
>dynamic-wind</samp> is called first.<br/><br/>If a second call to <samp id='samp6111'
>dynamic-wind</samp> occurs within the dynamic extent of the
call to <code id='code6113'
><em id='it6112'
>thunk</em></code> and then a continuation is invoked in such a way that the
<code id='code6115'
><em id='it6114'
>before</em></code>s from these two invocations of <samp id='samp6116'
>dynamic-wind</samp> are both to be
called, then the <code id='code6118'
><em id='it6117'
>before</em></code> associated with the first (outer) call to
<samp id='samp6119'
>dynamic-wind</samp> is called first.<br/><br/>If invoking a continuation requires calling the <code id='code6122'
><em id='it6121'
>before</em></code> from one call
to <samp id='samp6123'
>dynamic-wind</samp> and the <code id='code6125'
><em id='it6124'
>after</em></code> from another, then the <code id='code6127'
><em id='it6126'
>after</em></code>
is called first.<br/><br/>The effect of using a captured continuation to enter or exit the dynamic
extent of a call to <code id='code6130'
><em id='it6129'
>before</em></code> or <code id='code6132'
><em id='it6131'
>after</em></code> is undefined.<br/><br/><center id='center6146'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog6144'
>(<strong id='bold8061'
>let</strong> ((path '())
      (c #f))
  (<strong id='bold8062'
>let</strong> ((add (<strong id='bold8063'
>lambda</strong> (s)
               (<strong id='bold8064'
>set!</strong> path (cons s path)))))
    (dynamic-wind
      (<strong id='bold8065'
>lambda</strong> () (add 'connect))
      (<strong id='bold8066'
>lambda</strong> ()
        (add (call-with-current-continuation
               (<strong id='bold8067'
>lambda</strong> (c0)
                 (<strong id='bold8068'
>set!</strong> c c0)
                 'talk1))))
      (<strong id='bold8069'
>lambda</strong> () (add 'disconnect)))
    (<strong id='bold8070'
>if</strong> (&lt; (length path) 4)
        (c 'talk2)
        (reverse path))))
    
          =&gt; (connect talk1 disconnect
               connect talk2 disconnect)
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
</div><br>
<!-- Eval -->
<a name="Eval"></a>
<div class="section-atitle"><table width="100%"><tr><td bgcolor="#dedeff"><h3><font color="black">6.5 Eval</font>
</h3></td></tr></table>
</div><div class="section">
<a name="Eval" class="mark"></a>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6150" class="mark"></a><a name="eval" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6154" align="left" colspan="1"><strong id='bold6152'
>eval</strong><em id='it6153'
>  expression environment-specifier</em></td><td id="tc6155" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Evaluates <code id='code6159'
><em id='it6158'
>expression</em></code> in the specified environment and returns its value.
<code id='code6161'
><em id='it6160'
>Expression</em></code> must be a valid Scheme expression represented as data,
and <code id='code6163'
><em id='it6162'
>environment-specifier</em></code> must be a value returned by one of the
three procedures described below.
Implementations may extend <samp id='samp6164'
>eval</samp> to allow non-expression programs
(definitions) as the first argument and to allow other
values as environments, with the restriction that <samp id='samp6165'
>eval</samp> is not
allowed to create new bindings in the environments associated with
<samp id='samp6166'
>null-environment</samp> or <samp id='samp6167'
>scheme-report-environment</samp>.<br/><br/><center id='center6174'
><table cellspacing="0" class="color" cellpadding="0" width="95%"><tbody>
<tr><td bgcolor="#ffffcc"><pre class="prog" id='prog6172'
>(eval '(* 7 3) (scheme-report-environment 5))
                                                   =&gt;  21<br/><br/>(<strong id='bold8071'
>let</strong> ((f (eval '(<strong id='bold8072'
>lambda</strong> (f x) (f x x))
               (null-environment 5))))
  (f + 10))
                                                   =&gt;  20
</pre>
</td></tr>
</tbody></table></center>
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6178" class="mark"></a><a name="scheme-report-environment" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6182" align="left" colspan="1"><strong id='bold6180'
>scheme-report-environment</strong><em id='it6181'
>  version</em></td><td id="tc6183" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g6187" class="mark"></a><a name="null-environment" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6191" align="left" colspan="1"><strong id='bold6189'
>null-environment</strong><em id='it6190'
>  version</em></td><td id="tc6192" align="right" colspan="1">procedure</td></tr>
</tbody></table>

<code id='code6196'
><em id='it6195'
>Version</em></code> must be the exact integer <samp id='samp6197'
>5</samp>,
corresponding to this revision of the Scheme report (the
Revised^5 Report on Scheme).
<samp id='samp6198'
>Scheme-report-environment</samp> returns a specifier for an
environment that is empty except for all bindings defined in
this report that are either required or both optional and
supported by the implementation. <samp id='samp6199'
>Null-environment</samp> returns
a specifier for an environment that is empty except for the
(syntactic) bindings for all syntactic keywords defined in
this report that are either required or both optional and
supported by the implementation.<br/><br/>Other values of <code id='code6202'
><em id='it6201'
>version</em></code> can be used to specify environments
matching past revisions of this report, but their support is not
required.  An implementation will signal an error if <code id='code6204'
><em id='it6203'
>version</em></code>
is neither <samp id='samp6205'
>5</samp> nor another value supported by
the implementation.<br/><br/>The effect of assigning (through the use of <samp id='samp6207'
>eval</samp>) a variable
bound in a <samp id='samp6208'
>scheme-report-environment</samp>
(for example <samp id='samp6209'
>car</samp>) is unspecified.  Thus the environments specified
by <samp id='samp6210'
>scheme-report-environment</samp> may be immutable.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6214" class="mark"></a><a name="interaction-environment" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6218" align="left" colspan="1"><strong id='bold6216'
>interaction-environment</strong><em id='it6217'
> </em></td><td id="tc6219" align="right" colspan="1">optional procedure</td></tr>
</tbody></table>

This procedure returns a specifier for the environment that
contains implementation-defined bindings, typically a superset of
those listed in the report.  The intent is that this procedure
will return the environment in which the implementation would evaluate
expressions dynamically typed by the user.
</td></tr>
</tbody></table><br/>
</div><br>
<!-- Input and output -->
<a name="Input-and-output"></a>
<div class="section-atitle"><table width="100%"><tr><td bgcolor="#dedeff"><h3><font color="black">6.6 Input and output</font>
</h3></td></tr></table>
</div><div class="section">
<a name="Input-and-output" class="mark"></a>

<!-- Ports -->
<a name="Ports"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.6.1 Ports</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Ports" class="mark"></a>
Ports represent input and output devices.  To Scheme, an input port is a
Scheme object that can deliver characters upon command, while an output port
is a Scheme object that can accept characters. 
<a name="g6225" class="mark"></a>

<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6228" class="mark"></a><a name="call-with-input-file" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6232" align="left" colspan="1"><strong id='bold6230'
>call-with-input-file</strong><em id='it6231'
>  string proc</em></td><td id="tc6233" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<a name="g6237" class="mark"></a><a name="call-with-output-file" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6241" align="left" colspan="1"><strong id='bold6239'
>call-with-output-file</strong><em id='it6240'
>  string proc</em></td><td id="tc6242" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

<code id='code6246'
><em id='it6245'
>String</em></code> should be a string naming a file, and
<code id='code6248'
><em id='it6247'
>proc</em></code> should be a procedure that accepts one argument.
For <samp id='samp6249'
>call-with-input-file</samp>,
the file should already exist; for
<samp id='samp6250'
>call-with-output-file</samp>,
the effect is unspecified if the file
already exists. These procedures call <code id='code6252'
><em id='it6251'
>proc</em></code> with one argument: the
port obtained by opening the named file for input or output.  If the
file cannot be opened, an error is signalled.  If <code id='code6254'
><em id='it6253'
>proc</em></code> returns,
then the port is closed automatically and the value(s) yielded by the
<code id='code6256'
><em id='it6255'
>proc</em></code> is(are) returned.  If <code id='code6258'
><em id='it6257'
>proc</em></code> does not return, then 
the port will not be closed automatically unless it is possible to
prove that the port will never again be used for a read or write
operation.

<br/><em id='emph6260'
>Rationale:</em>
Because Scheme's escape procedures have unlimited extent, it  is
possible to escape from the current continuation but later to escape back in. 
If implementations were permitted to close the port on any escape from the
current continuation, then it would be impossible to write portable code using
both <samp id='samp6261'
>call-with-current-continuation</samp> and <samp id='samp6262'
>call-with-input-file</samp> or
<samp id='samp6263'
>call-with-output-file</samp>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6267" class="mark"></a><a name="input-port?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6271" align="left" colspan="1"><strong id='bold6269'
>input-port?</strong><em id='it6270'
>  obj</em></td><td id="tc6272" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g6276" class="mark"></a><a name="output-port?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6280" align="left" colspan="1"><strong id='bold6278'
>output-port?</strong><em id='it6279'
>  obj</em></td><td id="tc6281" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns <tt id='tt6284'
>#t</tt> if <code id='code6286'
><em id='it6285'
>obj</em></code> is an input port or output port
respectively, otherwise returns <tt id='tt6287'
>#f</tt>.<br/><br/></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6292" class="mark"></a><a name="current-input-port" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6296" align="left" colspan="1"><strong id='bold6294'
>current-input-port</strong><em id='it6295'
> </em></td><td id="tc6297" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g6301" class="mark"></a><a name="current-output-port" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6305" align="left" colspan="1"><strong id='bold6303'
>current-output-port</strong><em id='it6304'
> </em></td><td id="tc6306" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns the current default input or output port.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6312" class="mark"></a><a name="with-input-from-file" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6316" align="left" colspan="1"><strong id='bold6314'
>with-input-from-file</strong><em id='it6315'
>  string thunk</em></td><td id="tc6317" align="right" colspan="1">optional procedure</td></tr>
</tbody></table>
<a name="g6321" class="mark"></a><a name="with-output-to-file" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6325" align="left" colspan="1"><strong id='bold6323'
>with-output-to-file</strong><em id='it6324'
>  string thunk</em></td><td id="tc6326" align="right" colspan="1">optional procedure</td></tr>
</tbody></table>

<code id='code6330'
><em id='it6329'
>String</em></code> should be a string naming a file, and
<code id='code6332'
><em id='it6331'
>proc</em></code> should be a procedure of no arguments.
For <samp id='samp6333'
>with-input-from-file</samp>,
the file should already exist; for
<samp id='samp6334'
>with-output-to-file</samp>,
the effect is unspecified if the file
already exists.
The file is opened for input or output, an input or output port
connected to it is made the default value returned by
<samp id='samp6335'
>current-input-port</samp> or <samp id='samp6336'
>current-output-port</samp>
(and is used by <tt id='tt6337'
>(read)</tt>, <tt id='tt6340'
>(write <code id='code6339'
><em id='it6338'
>obj</em></code>)</tt>, and so forth),
and the
<code id='code6342'
><em id='it6341'
>thunk</em></code> is called with no arguments.  When the <code id='code6344'
><em id='it6343'
>thunk</em></code> returns,
the port is closed and the previous default is restored.
<samp id='samp6345'
>With-input-from-file</samp> and <samp id='samp6346'
>with-output-to-file</samp> return(s) the
value(s) yielded by <code id='code6348'
><em id='it6347'
>thunk</em></code>.
If an escape procedure
is used to escape from the continuation of these procedures, their
behavior is implementation dependent.<br/><br/>


</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6353" class="mark"></a><a name="open-input-file" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6357" align="left" colspan="1"><strong id='bold6355'
>open-input-file</strong><em id='it6356'
>  filename</em></td><td id="tc6358" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Takes a string naming an existing file and returns an input port capable of
delivering characters from the file.  If the file cannot be opened, an error is
signalled.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6364" class="mark"></a><a name="open-output-file" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6368" align="left" colspan="1"><strong id='bold6366'
>open-output-file</strong><em id='it6367'
>  filename</em></td><td id="tc6369" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Takes a string naming an output file to be created and returns an output
port capable of writing characters to a new file by that name.  If the file
cannot be opened, an error is signalled.  If a file with the given name
already exists, the effect is unspecified.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6375" class="mark"></a><a name="close-input-port" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6379" align="left" colspan="1"><strong id='bold6377'
>close-input-port</strong><em id='it6378'
>  port</em></td><td id="tc6380" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<a name="g6384" class="mark"></a><a name="close-output-port" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6388" align="left" colspan="1"><strong id='bold6386'
>close-output-port</strong><em id='it6387'
>  port</em></td><td id="tc6389" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Closes the file associated with <code id='code6393'
><em id='it6392'
>port</em></code>, rendering the <code id='code6395'
><em id='it6394'
>port</em></code>
incapable of delivering or accepting characters.  

These routines have no effect if the file has already been closed.
The value returned is unspecified.<br/><br/><br/><br/></td></tr>
</tbody></table><br/>
</div>
<!-- Input -->
<a name="Input"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.6.2 Input</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Input" class="mark"></a>
 <strong id='bold6400'
> </strong>  
<br/><br/><br/><br/><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6403" class="mark"></a><a name="read" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6407" align="left" colspan="1"><strong id='bold6405'
>read</strong><em id='it6406'
> </em></td><td id="tc6408" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6413" align="left" colspan="1"><strong id='bold6411'
>read</strong><em id='it6412'
>  port</em></td><td id="tc6414" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

<samp id='samp6417'
>Read</samp> converts external representations of Scheme objects into the
objects themselves.  That is, it is a parser for the nonterminal
&lt;datum&gt; (see sections <a href="r5rs-10.html#External-representation" class="inbound">External representation</a> and
<a href="r5rs-9.html#Pairs-and-lists" class="inbound">Pairs and lists</a>).  <samp id='samp6418'
>Read</samp> returns the next
object parsable from the given input <code id='code6420'
><em id='it6419'
>port</em></code>, updating <code id='code6422'
><em id='it6421'
>port</em></code> to point to
the first character past the end of the external representation of the object.<br/><br/>If an end of file is encountered in the input before any
characters are found that can begin an object, then an end of file
object is returned.  
 The port remains open, and further attempts
to read will also return an end of file object.  If an end of file is
encountered after the beginning of an object's external representation,
but the external representation is incomplete and therefore not parsable,
an error is signalled.<br/><br/>The <code id='code6426'
><em id='it6425'
>port</em></code> argument may be omitted, in which case it defaults to the
value returned by <samp id='samp6427'
>current-input-port</samp>.  It is an error to read from
a closed port.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6431" class="mark"></a><a name="read-char" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6435" align="left" colspan="1"><strong id='bold6433'
>read-char</strong><em id='it6434'
> </em></td><td id="tc6436" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6441" align="left" colspan="1"><strong id='bold6439'
>read-char</strong><em id='it6440'
>  port</em></td><td id="tc6442" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns the next character available from the input <code id='code6446'
><em id='it6445'
>port</em></code>, updating
the <code id='code6448'
><em id='it6447'
>port</em></code> to point to the following character.  If no more characters
are available, an end of file object is returned.  <code id='code6450'
><em id='it6449'
>Port</em></code> may be
omitted, in which case it defaults to the value returned by <samp id='samp6451'
>current-input-port</samp>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6455" class="mark"></a><a name="peek-char" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6459" align="left" colspan="1"><strong id='bold6457'
>peek-char</strong><em id='it6458'
> </em></td><td id="tc6460" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6465" align="left" colspan="1"><strong id='bold6463'
>peek-char</strong><em id='it6464'
>  port</em></td><td id="tc6466" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Returns the next character available from the input <code id='code6470'
><em id='it6469'
>port</em></code>,
<em id='emph6471'
>without</em> updating
the <code id='code6473'
><em id='it6472'
>port</em></code> to point to the following character.  If no more characters
are available, an end of file object is returned.  <code id='code6475'
><em id='it6474'
>Port</em></code> may be
omitted, in which case it defaults to the value returned by <samp id='samp6476'
>current-input-port</samp>.<br/><br/><font size="-1"><em id='emph6478'
>Note:</em>
The value returned by a call to <samp id='samp6479'
>peek-char</samp> is the same as the
value that would have been returned by a call to <samp id='samp6480'
>read-char</samp> with the
same <code id='code6482'
><em id='it6481'
>port</em></code>.  The only difference is that the very next call to
<samp id='samp6483'
>read-char</samp> or <samp id='samp6484'
>peek-char</samp> on that <code id='code6486'
><em id='it6485'
>port</em></code> will return the
value returned by the preceding call to <samp id='samp6487'
>peek-char</samp>.  In particular, a call
to <samp id='samp6488'
>peek-char</samp> on an interactive port will hang waiting for input
whenever a call to <samp id='samp6489'
>read-char</samp> would have hung.
</font></td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6494" class="mark"></a><a name="eof-object?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6498" align="left" colspan="1"><strong id='bold6496'
>eof-object?</strong><em id='it6497'
>  obj</em></td><td id="tc6499" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Returns <tt id='tt6502'
>#t</tt> if <code id='code6504'
><em id='it6503'
>obj</em></code> is an end of file object, otherwise returns
<tt id='tt6505'
>#f</tt>.  The precise set of end of file objects will vary among
implementations, but in any case no end of file object will ever be an object
that can be read in using <samp id='samp6506'
>read</samp>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6510" class="mark"></a><a name="char-ready?" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6514" align="left" colspan="1"><strong id='bold6512'
>char-ready?</strong><em id='it6513'
> </em></td><td id="tc6515" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6520" align="left" colspan="1"><strong id='bold6518'
>char-ready?</strong><em id='it6519'
>  port</em></td><td id="tc6521" align="right" colspan="1">procedure</td></tr>
</tbody></table>

Returns <tt id='tt6524'
>#t</tt> if a character is ready on the input <code id='code6526'
><em id='it6525'
>port</em></code> and
returns <tt id='tt6527'
>#f</tt> otherwise.  If <samp id='samp6528'
>char-ready</samp> returns <tt id='tt6529'
>#t</tt> then
the next <samp id='samp6530'
>read-char</samp> operation on the given <code id='code6532'
><em id='it6531'
>port</em></code> is guaranteed
not to hang.  If the <code id='code6534'
><em id='it6533'
>port</em></code> is at end of file then <samp id='samp6535'
>char-ready?</samp>
returns <tt id='tt6536'
>#t</tt>.  <code id='code6538'
><em id='it6537'
>Port</em></code> may be omitted, in which case it defaults to
the value returned by <samp id='samp6539'
>current-input-port</samp>.<br/><br/><br/><em id='emph6542'
>Rationale:</em>
<samp id='samp6543'
>Char-ready?</samp> exists to make it possible for a program to
accept characters from interactive ports without getting stuck waiting for
input.  Any input editors associated with such ports must ensure that
characters whose existence has been asserted by <samp id='samp6544'
>char-ready?</samp> cannot
be rubbed out.  If <samp id='samp6545'
>char-ready?</samp> were to return <tt id='tt6546'
>#f</tt> at end of
file, a port at end of file would be indistinguishable from an interactive
port that has no ready characters.
</td></tr>
</tbody></table><br/>
</div>
<!-- Output -->
<a name="Output"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.6.3 Output</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="Output" class="mark"></a>

 
<br/><br/><br/><br/><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6551" class="mark"></a><a name="write" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6555" align="left" colspan="1"><strong id='bold6553'
>write</strong><em id='it6554'
>  obj</em></td><td id="tc6556" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6561" align="left" colspan="1"><strong id='bold6559'
>write</strong><em id='it6560'
>  obj port</em></td><td id="tc6562" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

Writes a written representation of <code id='code6566'
><em id='it6565'
>obj</em></code> to the given <code id='code6568'
><em id='it6567'
>port</em></code>.  Strings
that appear in the written representation are enclosed in doublequotes, and
within those strings backslash and doublequote characters are
escaped by backslashes.
Character objects are written using the <samp id='samp6569'
>#\</samp> notation.
<samp id='samp6570'
>Write</samp> returns an unspecified value.  The
<code id='code6572'
><em id='it6571'
>port</em></code> argument may be omitted, in which case it defaults to the value
returned by <samp id='samp6573'
>current-output-port</samp>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6577" class="mark"></a><a name="display" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6581" align="left" colspan="1"><strong id='bold6579'
>display</strong><em id='it6580'
>  obj</em></td><td id="tc6582" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6587" align="left" colspan="1"><strong id='bold6585'
>display</strong><em id='it6586'
>  obj port</em></td><td id="tc6588" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
Writes a representation of <code id='code6592'
><em id='it6591'
>obj</em></code> to the given <code id='code6594'
><em id='it6593'
>port</em></code>.  Strings
that appear in the written representation are not enclosed in
doublequotes, and no characters are escaped within those strings.  Character
objects appear in the representation as if written by <samp id='samp6595'
>write-char</samp>
instead of by <samp id='samp6596'
>write</samp>.  <samp id='samp6597'
>Display</samp> returns an unspecified value.
The <code id='code6599'
><em id='it6598'
>port</em></code> argument may be omitted, in which case it defaults to the
value returned by <samp id='samp6600'
>current-output-port</samp>.<br/><br/><br/><em id='emph6603'
>Rationale:</em>
<samp id='samp6604'
>Write</samp> is intended
for producing machine-readable output and <samp id='samp6605'
>display</samp> is for producing
human-readable output.  Implementations that allow ``slashification''
within symbols will probably want <samp id='samp6606'
>write</samp> but not <samp id='samp6607'
>display</samp> to
slashify funny characters in symbols.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6611" class="mark"></a><a name="newline" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6615" align="left" colspan="1"><strong id='bold6613'
>newline</strong><em id='it6614'
> </em></td><td id="tc6616" align="right" colspan="1">library procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6621" align="left" colspan="1"><strong id='bold6619'
>newline</strong><em id='it6620'
>  port</em></td><td id="tc6622" align="right" colspan="1">library procedure</td></tr>
</tbody></table>

Writes an end of line to <code id='code6626'
><em id='it6625'
>port</em></code>.  Exactly how this is done differs
from one operating system to another.  Returns an unspecified value.
The <code id='code6628'
><em id='it6627'
>port</em></code> argument may be omitted, in which case it defaults to the
value returned by <samp id='samp6629'
>current-output-port</samp>.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6633" class="mark"></a><a name="write-char" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6637" align="left" colspan="1"><strong id='bold6635'
>write-char</strong><em id='it6636'
>  char</em></td><td id="tc6638" align="right" colspan="1">procedure</td></tr>
</tbody></table>
<table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6643" align="left" colspan="1"><strong id='bold6641'
>write-char</strong><em id='it6642'
>  char port</em></td><td id="tc6644" align="right" colspan="1">procedure</td></tr>
</tbody></table>
Writes the character <code id='code6648'
><em id='it6647'
>char</em></code> (not an external representation of the
character) to the given <code id='code6650'
><em id='it6649'
>port</em></code> and returns an unspecified value.  The
<code id='code6652'
><em id='it6651'
>port</em></code> argument may be omitted, in which case it defaults to the value
returned by <samp id='samp6653'
>current-output-port</samp>.
</td></tr>
</tbody></table><br/>
</div>
<!-- System interface -->
<a name="System-interface"></a>
<div class="subsection-atitle"><table width="100%"><tr><td bgcolor="#ffffff"><h3><font color="#8381de">6.6.4 System interface</font>
</h3></td></tr></table>
</div><div class="subsection">
<a name="System-interface" class="mark"></a>Questions of system interface generally fall outside of the domain of this
report.  However, the following operations are important enough to
deserve description here.<br/><br/><table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6658" class="mark"></a><a name="load" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6662" align="left" colspan="1"><strong id='bold6660'
>load</strong><em id='it6661'
>  filename</em></td><td id="tc6663" align="right" colspan="1">optional procedure</td></tr>
</tbody></table>

<code id='code6667'
><em id='it6666'
>Filename</em></code> should be a string naming an existing file
containing Scheme source code.  The <samp id='samp6668'
>load</samp> procedure reads
expressions and definitions from the file and evaluates them
sequentially.  It is unspecified whether the results of the expressions
are printed.  The <samp id='samp6669'
>load</samp> procedure does not affect the values
returned by <samp id='samp6670'
>current-input-port</samp> and <samp id='samp6671'
>current-output-port</samp>.
<samp id='samp6672'
>Load</samp> returns an unspecified value.<br/><br/><br/><em id='emph6675'
>Rationale:</em>
For portability, <samp id='samp6676'
>load</samp> must operate on source files.
Its operation on other kinds of files necessarily varies among
implementations.
</td></tr>
</tbody></table><br/>
<table cellspacing="0" class="frame" cellpadding="10" border="1" width="100%"><tbody>
<tr><td><a name="g6680" class="mark"></a><a name="transcript-on" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6684" align="left" colspan="1"><strong id='bold6682'
>transcript-on</strong><em id='it6683'
>  filename</em></td><td id="tc6685" align="right" colspan="1">optional procedure</td></tr>
</tbody></table>
<a name="g6689" class="mark"></a><a name="transcript-off" class="mark"></a><table width="100%" style="border-collapse: collapse;" frame="void" rules="none"><tbody>
<tr><td id="tc6693" align="left" colspan="1"><strong id='bold6691'
>transcript-off</strong><em id='it6692'
> </em></td><td id="tc6694" align="right" colspan="1">optional procedure</td></tr>
</tbody></table>
<code id='code6698'
><em id='it6697'
>Filename</em></code> must be a string naming an output file to be
created. The effect of <samp id='samp6699'
>transcript-on</samp> is to open the named file
for output, and to cause a transcript of subsequent interaction between
the user and the Scheme system to be written to the file.  The
transcript is ended by a call to <samp id='samp6700'
>transcript-off</samp>, which closes the
transcript file.  Only one transcript may be in progress at any time,
though some implementations may relax this restriction.  The values
returned by these procedures are unspecified.
</td></tr>
</tbody></table><br/>         

</div>
</div><br>
</div></td>
</tr></table><div class="skribe-ending">
<hr> 
<p class="ending" id='paragraph8078'
><font size="-1">
This <span class="sc">Html</span> page has been produced by 
<a href="http://www-sop.inria.fr/indes/fp/Skribe" class="http">Skribe</a>.
<br/>
Last update <em id='it8076'
>Thu Jul  2 15:55:39 2015</em>.</font></p></div>
</body>
</html>